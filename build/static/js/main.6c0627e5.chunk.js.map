{"version":3,"sources":["constants.js","services/hotspotService.js","services/commentService.js","reducers/hotspotReducer.js","reducers/mapReducer.js","components/Map.js","services/userService.js","reducers/userReducer.js","services/loginService.js","components/MenuBar.js","components/HotspotForm.js","components/VoteButton.js","components/LoginPromptPopup.js","components/Comments.js","components/Togglable.js","components/CommentForm.js","components/Hotspot.js","components/LoginForm.js","components/RegisterForm.js","App.js","store.js","index.js"],"names":["dateFormat","year","month","day","hour","minute","routes","login","register","addHotspot","hotspots","appName","baseUrl","hotspotService","getAll","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","response","wrap","_context","prev","next","axios","get","sent","abrupt","data","stop","this","apply","arguments","getHotspotsByCoordinates","_ref2","_callee2","lng","lat","_context2","concat","_x","_x2","getHotspot","_ref3","_callee3","id","_context3","_x3","create","_ref4","_callee4","hotspot","_context4","post","withCredentials","_x4","upVote","_ref5","_callee5","_context5","type","_x5","downVote","_ref6","_callee6","_context6","_x6","commentService","comment","initialState","currentHotspot","newHotspot","newCoordinates","error","initialiseHotspots","dispatch","console","log","t0","hotspotReducer","state","length","undefined","action","objectSpread","find","hs","inHotspot","comments","map","commentIndex","findIndex","c","properties","icon","geometry","coordinates","setHotspotsOnMap","hotspotFeatures","location","mapReducer","Map","mapboxgl","accessToken","process","bounds","container","style","center","zoom","minZoom","maxZoom","maxBounds","locateSuccess","position","_this","setCenter","coords","longitude","latitude","locateFail","navigator","geolocation","getCurrentPosition","addControl","MapboxLanguage","defaultLanguage","geocoder","MapboxGeocoder","language","country","bbox","placeholder","on","e","result","addSource","features","props","addLayer","source","layout","icon-image","icon-allow-overlap","originalEvent","cancelBubble","history","push","lngLat","isUserLoggedIn","setNewCoordinates","Popup","setLngLat","setHTML","addTo","getSource","setData","react_default","createElement","top","bottom","width","height","textAlign","marginTop","zIndex","React","Component","mapDispatchToProps","withRouter","connect","hotspotsData","user","userService","getProfile","credentials","setUserLoggedIn","loggedIn","userReducer","loginService","logout","userInfo","MenuBar","_this2","Menu","attached","tabular","Container","Item","Dropdown","item","direction","onClick","Icon","paddingLeft","name","as","NavLink","exact","to","HotspotForm","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","close","setState","open","event","hotspotObject","preventDefault","target","title","value","description","addHotspotToMap","document","Modal","closeOnDimmerClick","onClose","closeIcon","Header","Content","Form","onSubmit","Input","TextArea","minHeight","Button","VoteButton","vote","votes","color","compact","rest","objectWithoutProperties","assign","labelPosition","basic","Label","pointing","LoginPromptPopup","trigger","content","Link","hoverable","Comments","sortComments","selectedSort","sortOrder","b","Date","createdAt","getTime","paddingBottom","floated","selection","options","text","defaultValue","onChange","float","Divider","hidden","sort","key","Segment","toLocaleDateString","addedBy","displayname","components_LoginPromptPopup","components_VoteButton","upVoteComment","upVotes","downVoteComment","downVotes","votedComment","_ref7","_callee7","_context7","_x7","Togglable","toggleVisibility","visible","hideWhenVisible","display","showWhenVisible","buttonLabel","children","CommentForm","addComment","commentObject","hotspotId","newComment","Hotspot","upVoteHotspot","downVoteHotspot","components_Togglable","components_CommentForm","components_Comments","votedHotspot","LoginForm","username","password","pathname","RegisterForm","passwordConf","email","usernameError","passwordError","displaynameError","emailError","errorMessages","userObject","status","message","handleChange","defineProperty","showWhenError","inverted","secondary","Field","App","checkUserSession","components_MenuBar","components_Map","Route","path","render","match","components_Hotspot","params","components_HotspotForm","components_LoginForm","components_RegisterForm","reducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","es","BrowserRouter","src_App","getElementById","subscribe"],"mappings":"sQAAMA,EAAa,CACjBC,KAAM,UACNC,MAAO,UACPC,IAAK,UACLC,KAAM,UACNC,OAAQ,WAGJC,EAAS,CACbC,MAAO,YACPC,SAAU,gBACVC,WAAY,eACZC,SAAU,YAGNC,EAAU,6FCdVC,EAAU,gBAoCDC,EAAA,CAAEC,OAlCL,eAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAC,IAAA,IAAAC,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACUC,IAAMC,IAAIhB,GADpB,cACPU,EADOE,EAAAK,KAAAL,EAAAM,OAAA,SAENR,EAASS,MAFH,wBAAAP,EAAAQ,SAAAX,EAAAY,SAAH,yBAAAlB,EAAAmB,MAAAD,KAAAE,YAAA,GAkCaC,yBA7BK,eAAAC,EAAArB,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAkB,EAAOC,EAAKC,GAAZ,IAAAlB,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAAkB,GAAA,cAAAA,EAAAhB,KAAAgB,EAAAf,MAAA,cAAAe,EAAAf,KAAA,EACRC,IAAMC,IAAN,GAAAc,OAAa9B,EAAb,MAAA8B,OAAyBH,EAAzB,KAAAG,OAAgCF,IADxB,cACzBlB,EADyBmB,EAAAZ,KAAAY,EAAAX,OAAA,SAExBR,EAASS,MAFe,wBAAAU,EAAAT,SAAAM,EAAAL,SAAH,gBAAAU,EAAAC,GAAA,OAAAP,EAAAH,MAAAD,KAAAE,YAAA,GA6BqBU,WAxBnC,eAAAC,EAAA9B,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAA2B,EAAOC,GAAP,IAAA1B,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAA0B,GAAA,cAAAA,EAAAxB,KAAAwB,EAAAvB,MAAA,cAAAuB,EAAAvB,KAAA,EACMC,IAAMC,IAAN,GAAAc,OAAa9B,EAAb,KAAA8B,OAAwBM,IAD9B,cACX1B,EADW2B,EAAApB,KAAAoB,EAAAnB,OAAA,SAEVR,EAASS,MAFC,wBAAAkB,EAAAjB,SAAAe,EAAAd,SAAH,gBAAAiB,GAAA,OAAAJ,EAAAZ,MAAAD,KAAAE,YAAA,GAwB+CgB,OAnBnD,eAAAC,EAAApC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAiC,EAAOC,GAAP,IAAAhC,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAAA6B,EAAA7B,KAAA,EACUC,IAAM6B,KAAK5C,EAAS0C,EAAS,CAAEG,iBAAiB,IAD1D,cACPnC,EADOiC,EAAA1B,KAAA0B,EAAAzB,OAAA,SAENR,EAASS,MAFH,wBAAAwB,EAAAvB,SAAAqB,EAAApB,SAAH,gBAAAyB,GAAA,OAAAN,EAAAlB,MAAAD,KAAAE,YAAA,GAmB2DwB,OAd3D,eAAAC,EAAA5C,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAyC,EAAOb,GAAP,IAAA1B,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAAuC,GAAA,cAAAA,EAAArC,KAAAqC,EAAApC,MAAA,cAAAoC,EAAApC,KAAA,EACUC,IAAM6B,KAAN,GAAAd,OAAc9B,EAAd,KAAA8B,OAAyBM,EAAzB,SACrB,CAAEe,KAAM,UACR,CAAEN,iBAAiB,IAHR,cACPnC,EADOwC,EAAAjC,KAAAiC,EAAAhC,OAAA,SAINR,EAASS,MAJH,wBAAA+B,EAAA9B,SAAA6B,EAAA5B,SAAH,gBAAA+B,GAAA,OAAAJ,EAAA1B,MAAAD,KAAAE,YAAA,GAcmE8B,SAPjE,eAAAC,EAAAlD,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAA+C,EAAOnB,GAAP,IAAA1B,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAA6C,GAAA,cAAAA,EAAA3C,KAAA2C,EAAA1C,MAAA,cAAA0C,EAAA1C,KAAA,EACQC,IAAM6B,KAAN,GAAAd,OAAc9B,EAAd,KAAA8B,OAAyBM,EAAzB,SACrB,CAAEe,KAAM,YACR,CAAEN,iBAAiB,IAHN,cACTnC,EADS8C,EAAAvC,KAAAuC,EAAAtC,OAAA,SAIRR,EAASS,MAJD,wBAAAqC,EAAApC,SAAAmC,EAAAlC,SAAH,gBAAAoC,GAAA,OAAAH,EAAAhC,MAAAD,KAAAE,YAAA,ICRCmC,EAAA,CAAEnB,OAnBL,eAAApC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAC,EAAOkD,GAAP,IAAAjD,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACUC,IAAM6B,KAHf,gBAG6Be,EAAS,CAAEd,iBAAiB,IAD1D,cACPnC,EADOE,EAAAK,KAAAL,EAAAM,OAAA,SAENR,EAASS,MAFH,wBAAAP,EAAAQ,SAAAX,EAAAY,SAAH,gBAAAU,GAAA,OAAA5B,EAAAmB,MAAAD,KAAAE,YAAA,GAmBawB,OAdb,eAAAtB,EAAArB,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAkB,EAAOU,GAAP,IAAA1B,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAAkB,GAAA,cAAAA,EAAAhB,KAAAgB,EAAAf,MAAA,cAAAe,EAAAf,KAAA,EACUC,IAAM6B,KAAN,GAAAd,OART,gBAQS,KAAAA,OAAyBM,EAAzB,SACrB,CAAEe,KAAM,UACR,CAAEN,iBAAiB,IAHR,cACPnC,EADOmB,EAAAZ,KAAAY,EAAAX,OAAA,SAINR,EAASS,MAJH,wBAAAU,EAAAT,SAAAM,EAAAL,SAAH,gBAAAW,GAAA,OAAAP,EAAAH,MAAAD,KAAAE,YAAA,GAcqB8B,SAPnB,eAAAnB,EAAA9B,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAA2B,EAAOC,GAAP,IAAA1B,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAA0B,GAAA,cAAAA,EAAAxB,KAAAwB,EAAAvB,MAAA,cAAAuB,EAAAvB,KAAA,EACQC,IAAM6B,KAAN,GAAAd,OAfT,gBAeS,KAAAA,OAAyBM,EAAzB,SACrB,CAAEe,KAAM,YACR,CAAEN,iBAAiB,IAHN,cACTnC,EADS2B,EAAApB,KAAAoB,EAAAnB,OAAA,SAIRR,EAASS,MAJD,wBAAAkB,EAAAjB,SAAAe,EAAAd,SAAH,gBAAAiB,GAAA,OAAAJ,EAAAZ,MAAAD,KAAAE,YAAA,ICZRqC,EAAe,CACnB9D,SAAW,GACX+D,eAAgB,KAChBC,WAAY,KACZC,eAAgB,GAChBC,MAAO,MAwFIC,EAAqB,WAChC,sBAAA9D,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAO,SAAAC,EAAMyD,GAAN,IAAApE,EAAA,OAAAQ,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEoBb,EAAeC,SAFnC,OAEGJ,EAFHc,EAAAK,KAGHkD,QAAQC,IAAItE,GACZoE,EAAS,CACPf,KAAK,uBACLrD,aANCc,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAyD,GAAAzD,EAAA,SASHsD,EAAS,CACPf,KAAM,oBACNa,MAAO,2BAAApD,EAAAyD,KAXN,yBAAAzD,EAAAQ,SAAAX,EAAAY,KAAA,YAAP,gBAAAU,GAAA,OAAA5B,EAAAmB,MAAAD,KAAAE,YAAA,IA0Ia+C,EAhOQ,WAAkC,IAAjCC,EAAiChD,UAAAiD,OAAA,QAAAC,IAAAlD,UAAA,GAAAA,UAAA,GAAzBqC,EAAcc,EAAWnD,UAAAiD,OAAA,EAAAjD,UAAA,QAAAkD,EAEvD,OAAQC,EAAOvB,MACb,IAAK,uBACH,MAAO,CACLrD,SAAU4E,EAAO5E,SACjBkE,MAAO,MAEX,IAAK,oBACH,OAAO5D,OAAAuE,EAAA,EAAAvE,CAAA,GACFmE,EADL,CAEEP,MAAOU,EAAOV,QAElB,IAAK,sBACH,OAAO5D,OAAAuE,EAAA,EAAAvE,CAAA,GACFmE,EADL,CAEEV,eAAgBU,EAAMzE,SAAS8E,KAAK,SAAAC,GAAE,OAAIA,EAAGzC,KAAOsC,EAAOtC,KAC3D4B,MAAO,OAEX,IAAK,sBACH,OAAO5D,OAAAuE,EAAA,EAAAvE,CAAA,GACFmE,EADL,CAEER,eAAgBW,EAAOX,iBAE3B,IAAK,sBACH,OAAO3D,OAAAuE,EAAA,EAAAvE,CAAA,GACFmE,EADL,CAEEzE,SAAUyE,EAAMzE,SAASgC,OAAO4C,EAAOhC,SACvCoB,WAAYY,EAAOhC,QACnBsB,MAAO,OAEX,IAAK,mBACH,OAAO5D,OAAAuE,EAAA,EAAAvE,CAAA,GACFmE,EADL,CAEEP,MAAOU,EAAOV,QAElB,IAAK,sBACH,IAAItB,EAAOtC,OAAAuE,EAAA,EAAAvE,CAAA,GAAOmE,EAAMzE,SAAS8E,KAAK,SAAAC,GAAE,OAAIA,EAAGzC,KAAOsC,EAAOf,QAAQmB,UAAU1C,MAE/E,OADAM,EAAQqC,SAAWrC,EAAQqC,SAASjD,OAAO4C,EAAOf,SAC3CvD,OAAAuE,EAAA,EAAAvE,CAAA,GACFmE,EADL,CAEEzE,SAAUyE,EAAMzE,SAASkF,IAAI,SAAAH,GAAE,OAC7BA,EAAGzC,KAAOM,EAAQN,GAChBM,EACAmC,IACJhB,eAAgBnB,EAChBsB,MAAO,OAEX,IAAK,mBACH,OAAO5D,OAAAuE,EAAA,EAAAvE,CAAA,GACFmE,EADL,CAEEP,MAAOU,EAAOV,QAElB,IAAK,uBACH,OAAO5D,OAAAuE,EAAA,EAAAvE,CAAA,GACFmE,EADL,CAEEzE,SAAUyE,EAAMzE,SAASkF,IAAI,SAAAH,GAAE,OAC7BA,EAAGzC,KAAOsC,EAAOhC,QAAQN,GACvBsC,EAAOhC,QACPmC,IACJhB,eAAgBa,EAAOhC,UAEzB,IAAK,oBACL,OAAOtC,OAAAuE,EAAA,EAAAvE,CAAA,GACFmE,EADL,CAEEP,MAAOU,EAAOV,QAEhB,IAAK,uBAEL,IAAIiB,GADJvC,EAAOtC,OAAAuE,EAAA,EAAAvE,CAAA,GAAOmE,EAAMzE,SAAS8E,KAAK,SAAAC,GAAE,OAAIA,EAAGzC,KAAOsC,EAAOf,QAAQmB,UAAU1C,OAChD2C,SAASG,UAAU,SAACC,GAAD,OAAOA,EAAE/C,KAAOsC,EAAOf,QAAQvB,KAE7E,OADAM,EAAQqC,SAASE,GAAgBP,EAAOf,QACjCvD,OAAAuE,EAAA,EAAAvE,CAAA,GACFmE,EADL,CAEEzE,SAAUyE,EAAMzE,SAASkF,IAAI,SAAAH,GAAE,OAC7BA,EAAGzC,KAAOM,EAAQN,GAChBM,EACAmC,IACJhB,eAAgBnB,EAChBsB,MAAO,OAEX,QACE,OAAOO,IC5FPX,EAAe,CACnB9D,SAAW,CACT,CACEqD,KAAQ,UACRiC,WAAc,CACZhD,GAAM,2BACNiD,KAAQ,QAEVC,SAAY,CACVnC,KAAQ,QACRoC,YAAe,CAAC,WAAY,cAGhC,CACEpC,KAAQ,UACRiC,WAAc,CACZhD,GAAM,2BACNiD,KAAQ,QAEVC,SAAY,CACVnC,KAAQ,QACRoC,YAAe,CAAC,GAAI,UAqBfC,EAAmB,SAAC1F,GAC/B,OAAO,SAAAoE,GACL,IAAMuB,EAAkB3F,EAASkF,IAAI,SAAAH,GACnC,MAAO,CACL1B,KAAQ,UACRiC,WAAc,CACZhD,GAAMyC,EAAGzC,GACTiD,KAAQ,QAEVC,SAAY,CACVnC,KAAQ,QACRoC,YAAeV,EAAGa,SAASH,gBAIjCpB,QAAQC,IAAIqB,GACZvB,EAAS,CACPf,KAAM,eACNrD,SAAU2F,MAKH5F,EAAa,SAAC6C,GACzB,OAAO,SAAAwB,GACL,IAAIJ,EAAa,CACfX,KAAQ,UACRiC,WAAc,CACZhD,GAAMM,EAAQN,GACdiD,KAAQ,QAEVC,SAAY,CACVnC,KAAQ,QACRoC,YAAe7C,EAAQgD,SAASH,cAGpCpB,QAAQC,IAAIN,GACZK,QAAQC,IAAI1B,EAAQgD,UACpBxB,EAAS,CACPf,KAAM,cACNT,QAASoB,MAKA6B,EA5DI,WAAkC,IAAjCpB,EAAiChD,UAAAiD,OAAA,QAAAC,IAAAlD,UAAA,GAAAA,UAAA,GAAzBqC,EAAcc,EAAWnD,UAAAiD,OAAA,EAAAjD,UAAA,QAAAkD,EACnD,OAAQC,EAAOvB,MACb,IAAK,eACH,MAAO,CACLrD,SAAU4E,EAAO5E,UAErB,IAAK,cACH,MAAO,CACLA,SAAUyE,EAAMzE,SAASgC,OAAO4C,EAAOhC,UAE3C,QACE,OAAO6B,IC5BPqB,yTAKFC,IAASC,YAAcC,gGAIjBC,EAAS,CAAE,mBAAoB,kBACnC,mBAAoB,mBAEtB3E,KAAK2D,IAAM,IAAIa,IAASD,IAAI,CAC1BK,UAAW,MACXC,MAAO,oCACPC,OAAQ,CAAC,WAAY,UACrBC,KAAM,GACNC,QAAS,GACTC,QAAS,GACTC,UAAWP,IAGPQ,EAAgB,SAACC,GACrBC,EAAK1B,IAAM0B,EAAK1B,IAAI2B,UAAU,CAACF,EAASG,OAAOC,UAAWJ,EAASG,OAAOE,YAGtEC,EAAa,SAAC/C,GAAD,OAAWG,QAAQC,IAAIJ,IAEtCgD,UAAUC,aACZD,UAAUC,YAAYC,mBAAmBV,EAAeO,GAG1D1F,KAAK2D,IAAImC,WAAW,IAAIC,IAAe,CAAGC,gBAAiB,UAKrDC,EAAW,IAAIC,IAAe,CAClCzB,YAAaD,IAASC,YACtB0B,SAAU,KACVC,QAAS,KACTC,KAAM1B,EACN2B,YAAa,aAGNC,GAAG,SAAU,SAACC,GACrB1D,QAAQC,IAAIyD,GACZ1D,QAAQC,IAAIyD,EAAEC,OAAOxC,SAASC,eAGhClE,KAAK2D,IAAImC,WAAWG,GAKpBjG,KAAK2D,IAAI4C,GAAG,OAAQ,WAClBlB,EAAK1B,IAAI+C,UAAU,WAAY,CAC7B5E,KAAQ,UACRhC,KAAQ,CACNgC,KAAQ,oBACR6E,SAAYtB,EAAKuB,MAAMnI,YAI3B4G,EAAK1B,IAAIkD,SAAS,CAChB9F,GAAM,UACN+F,OAAU,WACVhF,KAAQ,SACRiF,OAAU,CACRC,aAAc,YACdC,sBAAsB,OAM5BjH,KAAK2D,IAAI4C,GAAG,QAAS,UAAW,SAACC,GAC/BA,EAAEU,cAAcC,cAAe,EAC/B9B,EAAKuB,MAAMQ,QAAQC,KAAKhJ,EAAOI,SAAW,IAAM+H,EAAEG,SAAS,GAAG5C,WAAWhD,MAG3Ef,KAAK2D,IAAI4C,GAAG,QAAS,SAACC,GAChBA,EAAEU,cAAcC,eAGpBrE,QAAQC,IAAIyD,EAAEc,OAAOhH,IAAM,IAAMkG,EAAEc,OAAO/G,KACtC8E,EAAKuB,MAAMW,gBACblC,EAAKuB,MAAMY,kBAAkB,CAAEhB,EAAEc,OAAOhH,IAAKkG,EAAEc,OAAO/G,MACtD8E,EAAKuB,MAAMQ,QAAQC,KAAKhJ,EAAOG,cAG/B,IAAIgG,IAASiD,OACVC,UAAUlB,EAAEc,QACZK,QAFH,YAAAlH,OAEwBpC,EAAOC,MAF/B,iCAGGsJ,MAAMvC,EAAK1B,wJAcH3D,KAAK2D,IAAIkE,UAAU,aAGhC7H,KAAK2D,IAAIkE,UAAU,YAAYC,QAAQ,CACrChG,KAAQ,oBACR6E,SAAY3G,KAAK4G,MAAMnI,4CAgB3B,OACEsJ,EAAA7I,EAAA8I,cAAA,OAAKjH,GAAG,MAAM8D,MAXC,CACfO,SAAU,WACV6C,IAAI,EACJC,OAAO,EACPC,MAAM,OACNC,OAAO,OACPC,UAAW,OACXC,UAAW,OACXC,OAAQ,aA/HIC,IAAMC,WA+IlBC,EAAqB,CACzBlB,kBFxC+B,SAAC9E,GAChC,OAAO,SAAAG,GACLA,EAAS,CACPf,KAAM,sBACNY,qBEqCJlE,aACAoE,qBACAuB,oBAGawE,cAAWC,YAfF,SAAC1F,GACvB,MAAO,CACLzE,SAAUyE,EAAMS,IAAIlF,SACpBoK,aAAc3F,EAAM7B,QAAQ5C,SAC5B8I,eAAgBrE,EAAM4F,KAAKvB,iBAWoBmB,EAAzBE,CAA6CrE,iDCzJxDwE,EAAA,CAAEC,WALD,eAAAlK,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAC,EAAO6J,GAAP,IAAA5J,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACMC,IAAMC,IAAI,eAAgBsJ,GADhC,cACX5J,EADWE,EAAAK,KAAAL,EAAAM,OAAA,SAEVR,EAASS,MAFC,wBAAAP,EAAAQ,SAAAX,EAAAY,SAAH,gBAAAU,GAAA,OAAA5B,EAAAmB,MAAAD,KAAAE,YAAA,ICAVqC,EAAe,CACnBgF,gBAAgB,GAeL2B,EAAkB,SAACC,GAC9B,OAAO,SAAAtG,GACLA,EAAS,CACPf,KAAM,mBACNqH,eAmBSC,EAnCK,WAAkC,IAAjClG,EAAiChD,UAAAiD,OAAA,QAAAC,IAAAlD,UAAA,GAAAA,UAAA,GAAzBqC,EAAcc,EAAWnD,UAAAiD,OAAA,EAAAjD,UAAA,QAAAkD,EACpD,OAAQC,EAAOvB,MACb,IAAK,mBACH,OAAO/C,OAAAuE,EAAA,EAAAvE,CAAA,GACFmE,EADL,CAEEqE,eAAgBlE,EAAO8F,WAE3B,QACE,OAAOjG,ICGEmG,EAAA,CAAE/K,MAfN,eAAAQ,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAC,EAAO6J,GAAP,IAAA5J,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACWC,IAAM6B,KAAK,SAAU0H,GADhC,cACN5J,EADME,EAAAK,KAAAL,EAAAM,OAAA,SAELR,EAASS,MAFJ,wBAAAP,EAAAQ,SAAAX,EAAAY,SAAH,gBAAAU,GAAA,OAAA5B,EAAAmB,MAAAD,KAAAE,YAAA,GAeaoJ,OAVZ,eAAAlJ,EAAArB,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAkB,IAAA,IAAAhB,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAAkB,GAAA,cAAAA,EAAAhB,KAAAgB,EAAAf,MAAA,cAAAe,EAAAf,KAAA,EACUC,IAAM6B,KAAK,UAAW,CAAEC,iBAAiB,IADnD,cACPnC,EADOmB,EAAAZ,KAAAY,EAAAX,OAAA,SAENR,EAASS,MAFH,wBAAAU,EAAAT,SAAAM,EAAAL,SAAH,yBAAAI,EAAAH,MAAAD,KAAAE,YAAA,GAUoB3B,SALlB,eAAAsC,EAAA9B,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAA2B,EAAOyI,GAAP,IAAAlK,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAA0B,GAAA,cAAAA,EAAAxB,KAAAwB,EAAAvB,MAAA,cAAAuB,EAAAvB,KAAA,EACQC,IAAM6B,KAAK,YAAagI,GADhC,cACTlK,EADS2B,EAAApB,KAAAoB,EAAAnB,OAAA,SAERR,EAASS,MAFD,wBAAAkB,EAAAjB,SAAAe,EAAAd,SAAH,gBAAAW,GAAA,OAAAE,EAAAZ,MAAAD,KAAAE,YAAA,ICJRsJ,6MAEJF,4BAAS,SAAAlK,IAAA,OAAAH,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACD4J,EAAaC,SADZ,OAEPjE,EAAKuB,MAAMsC,iBAAgB,GAFpB,wBAAA3J,EAAAQ,SAAAX,EAAAY,iFAKA,IAAAyJ,EAAAzJ,KA4BP,OACE+H,EAAA7I,EAAA8I,cAAC0B,EAAA,EAAD,CAAMC,SAAS,MAAMC,SAAO,GAC1B7B,EAAA7I,EAAA8I,cAAC6B,EAAA,EAAD,KACE9B,EAAA7I,EAAA8I,cAAC0B,EAAA,EAAKI,KAAN,KAAapL,GACbqJ,EAAA7I,EAAA8I,cAAC0B,EAAA,EAAKA,KAAN,CAAWtE,SAAS,SA7BpBqE,EAAK7C,MAAMW,eAEXQ,EAAA7I,EAAA8I,cAAC+B,EAAA,EAAD,CAAUC,MAAI,EAAChG,KAAK,OAAOiG,UAAU,QACnClC,EAAA7I,EAAA8I,cAAC+B,EAAA,EAASL,KAAV,KACE3B,EAAA7I,EAAA8I,cAAC+B,EAAA,EAASD,KAAV,CAAeI,QAAUT,EAAKH,QAA9B,gBAEEvB,EAAA7I,EAAA8I,cAACmC,EAAA,EAAD,CAAMtF,MAAO,CAAEuF,YAAa,OAASC,KAAK,eAOhDtC,EAAA7I,EAAA8I,cAAC0B,EAAA,EAAKI,KAAN,CAAWQ,GAAIC,IAASC,OAAK,EAACC,GAAKpM,EAAOC,OACxCyJ,EAAA7I,EAAA8I,cAACmC,EAAA,EAAD,CAAME,KAAK,uBAxBD7B,IAAMC,WAsDtBC,GAAqB,CACzBQ,mBAGaP,eAAWC,YAVF,SAAC1F,GACvB,MAAO,CACLqE,eAAgBrE,EAAM4F,KAAKvB,iBAQoBmB,GAAzBE,CAA6CY,4CC1DjEkB,eAEJ,SAAAA,EAAY9D,GAAO,IAAAvB,EAAA,OAAAtG,OAAA4L,EAAA,EAAA5L,CAAAiB,KAAA0K,IACjBrF,EAAAtG,OAAA6L,EAAA,EAAA7L,CAAAiB,KAAAjB,OAAA8L,EAAA,EAAA9L,CAAA2L,GAAAI,KAAA9K,KAAM4G,KASRmE,MAAQ,WACN1F,EAAK2F,SAAS,CAAEC,MAAM,IACtB5F,EAAKuB,MAAMQ,QAAQC,KAAK,MAZPhC,EAenB7G,WAfmB,eAAAM,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAeN,SAAAC,EAAO8L,GAAP,IAAAC,EAAA,OAAAlM,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACXyL,EAAME,mBAEFF,EAAMG,OAAOC,MAAMC,MAAMpI,OAAS,GAClC+H,EAAMG,OAAOG,YAAYD,MAAMpI,OAAS,GAJjC,CAAA5D,EAAAE,KAAA,eAMH0L,EAAgB,CACpBG,MAAOJ,EAAMG,OAAOC,MAAMC,MAC1BC,YAAaN,EAAMG,OAAOG,YAAYD,MACtClH,SAAU,CACRvC,KAAM,QACNoC,YAAamB,EAAKuB,MAAM1C,cAI5BgH,EAAMG,OAAOC,MAAMC,MAAQ,GAC3BL,EAAMG,OAAOG,YAAYD,MAAQ,GAhBxBhM,EAAAE,KAAA,EAkBH4F,EAAKuB,MAAMpI,WAAW2M,GAlBnB,OAoBL9F,EAAKuB,MAAMjE,OACbG,QAAQC,IAAI,2BACZD,QAAQC,IAAIsC,EAAKuB,MAAMjE,SAEvBG,QAAQC,IAAI,kBACZD,QAAQC,IAAIsC,EAAKuB,MAAMnE,YACvB4C,EAAKuB,MAAM6E,gBAAgBpG,EAAKuB,MAAMnE,YACtC4C,EAAK0F,SA3BE,wBAAAxL,EAAAQ,SAAAX,EAAAY,SAfM,gBAAAU,GAAA,OAAA5B,EAAAmB,MAAAD,KAAAE,YAAA,GAGjBmF,EAAKnC,MAAQ,CACX+H,KAAMrE,EAAMqE,MAGdS,SAASJ,MAAQ5M,EAAU,sBAPV2G,wEAiDjB,OADAvC,QAAQC,IAAI,QAAU/C,KAAKkD,MAAM+H,MAE/BlD,EAAA7I,EAAA8I,cAAA,WACED,EAAA7I,EAAA8I,cAAC2D,GAAA,EAAD,CACEV,KAAMjL,KAAKkD,MAAM+H,KACjBW,oBAAoB,EACpBC,QAAS7L,KAAK+K,MACde,WAAS,GAET/D,EAAA7I,EAAA8I,cAAC2D,GAAA,EAAMI,OAAP,0BACAhE,EAAA7I,EAAA8I,cAAC2D,GAAA,EAAMK,QAAP,KACEjE,EAAA7I,EAAA8I,cAACiE,GAAA,EAAD,CAAMC,SAAWlM,KAAKxB,YACpBuJ,EAAA7I,EAAA8I,cAAA,2BAEED,EAAA7I,EAAA8I,cAACiE,GAAA,EAAKE,MAAN,CACErK,KAAK,OACLuI,KAAK,WAGTtC,EAAA7I,EAAA8I,cAAA,uBAEED,EAAA7I,EAAA8I,cAACoE,GAAA,EAAD,CACE/B,KAAK,cACLxF,MAAO,CAAEwH,UAAW,QAExBtE,EAAA7I,EAAA8I,cAACsE,GAAA,EAAD,CAAQxK,KAAK,UAAb,0BA3EY2G,aA6FpBC,GAAqB,CACzBlK,WPqBwB,SAAC6C,GACzB,sBAAAjB,EAAArB,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAO,SAAAkB,EAAMwC,GAAN,IAAAJ,EAAA,OAAAxD,EAAAC,EAAAI,KAAA,SAAAkB,GAAA,cAAAA,EAAAhB,KAAAgB,EAAAf,MAAA,cAAAe,EAAAhB,KAAA,EAAAgB,EAAAf,KAAA,EAEsBb,EAAesC,OAAOG,GAF5C,OAEGoB,EAFHjC,EAAAZ,KAGHiD,EAAS,CACPf,KAAM,sBACNT,QAASoB,IALRjC,EAAAf,KAAA,gBAAAe,EAAAhB,KAAA,EAAAgB,EAAAwC,GAAAxC,EAAA,SAQHqC,EAAS,CACPf,KAAM,mBACNa,MAAO,mCAAAnC,EAAAwC,KAVN,yBAAAxC,EAAAT,SAAAM,EAAAL,KAAA,YAAP,gBAAAW,GAAA,OAAAP,EAAAH,MAAAD,KAAAE,YAAA,IOrBAuL,mBAGa9C,eAAWC,YAZF,SAAC1F,GACvB,MAAO,CACLT,WAAYS,EAAM7B,QAAQoB,WAC1BE,MAAOO,EAAM7B,QAAQsB,QAS0B+F,GAAzBE,CAA6C8B,uDCtFxD6B,GAjBI,SAAAzN,GAAA,IAAGiC,EAAHjC,EAAGiC,GAAIyL,EAAP1N,EAAO0N,KAAMC,EAAb3N,EAAa2N,MAAOC,EAApB5N,EAAoB4N,MAAO1I,EAA3BlF,EAA2BkF,KAAM2I,EAAjC7N,EAAiC6N,QAAYC,EAA7C7N,OAAA8N,GAAA,EAAA9N,CAAAD,EAAA,uDACjBiJ,EAAA7I,EAAA8I,cAACsE,GAAA,EAADvN,OAAA+N,OAAA,CAAQxC,GAAG,MAAMyC,cAAc,SAAaH,GAC1C7E,EAAA7I,EAAA8I,cAACsE,GAAA,EAAD,CACEU,OAAK,EACLN,MAAQA,EACR5K,KAAK,SACLoI,QAAU,kBAAMsC,EAAKzL,IACrB4L,QAAUA,GAEV5E,EAAA7I,EAAA8I,cAACmC,EAAA,EAAD,CAAME,KAAOrG,KAEf+D,EAAA7I,EAAA8I,cAACiF,GAAA,EAAD,CAAO3C,GAAG,IAAI0C,OAAK,EAACE,SAAS,QACzBT,yBCTFU,oLAGF,OAAInN,KAAK4G,MAAMW,eACNvH,KAAK4G,MAAMwG,QAGhBrF,EAAA7I,EAAA8I,cAACP,GAAA,EAAD,CACE2F,QAAUpN,KAAK4G,MAAMwG,QACrBC,QACEtF,EAAA7I,EAAA8I,cAACsF,GAAA,EAAD,CAAM7C,GAAKpM,EAAOC,OAAlB,0BAA2CyJ,EAAA7I,EAAA8I,cAACmC,EAAA,EAAD,CAAME,KAAK,aAExD9D,GAAG,QACHgH,WAAS,EACTnI,SAAS,qBAdYoD,IAAMC,WA2BtBG,eANS,SAAC1F,GACvB,MAAO,CACLqE,eAAgBrE,EAAM4F,KAAKvB,iBAIhBqB,CAAyBuE,ICzBlCK,eAEJ,SAAAA,EAAY5G,GAAO,IAAAvB,EAAA,OAAAtG,OAAA4L,EAAA,EAAA5L,CAAAiB,KAAAwN,IACjBnI,EAAAtG,OAAA6L,EAAA,EAAA7L,CAAAiB,KAAAjB,OAAA8L,EAAA,EAAA9L,CAAAyO,GAAA1C,KAAA9K,KAAM4G,KAQR6G,aAAe,SAACvC,EAAOpL,GACrBoL,EAAME,iBACN/F,EAAK2F,SAAS,CAAE0C,aAAc5N,EAAKyL,QACnClG,EAAKsI,UAA2B,WAAf7N,EAAKyL,MACpB,SAACrM,EAAG0O,GACF,OAAI,IAAIC,KAAK3O,EAAE4O,WAAWC,UAAY,IAAIF,KAAKD,EAAEE,WAAWC,UACnD,GAEC,GAGZ,SAAC7O,EAAG0O,GACF,OAAI,IAAIC,KAAK3O,EAAE4O,WAAWC,UAAY,IAAIF,KAAKD,EAAEE,WAAWC,UACnD,GAGC,GAGZjL,QAAQC,IAAIsC,EAAKsI,YAzBnBtI,EAAKsI,UAAY,aACjBtI,EAAKnC,MAAQ,CACXwK,aAAc,UALCrI,wEA+BV,IAAAoE,EAAAzJ,KAEP,OACE+H,EAAA7I,EAAA8I,cAAA,WACED,EAAA7I,EAAA8I,cAAA,OAAKnD,MAAO,CAAEmJ,cAAe,SAC7BjG,EAAA7I,EAAA8I,cAAC+D,GAAA,EAAD,CAAQzB,GAAG,KAAK2D,QAAQ,QAAxB,aACAlG,EAAA7I,EAAA8I,cAAC+B,EAAA,EAAD,CAAUiD,OAAK,EAACkB,WAAS,EACvBC,QAAS,CACP,CACEC,KAAM,kBACN7C,MAAO,UAET,CACE6C,KAAM,iBACN7C,MAAO,UAGX8C,aAAa,SACbC,SAAWtO,KAAKyN,aAChBd,SAAO,EACP9H,MAAO,CAAE0J,MAAO,QAASjG,UAAW,WAGtCP,EAAA7I,EAAA8I,cAACwG,GAAA,EAAD,CAASC,QAAM,IACb,GAAGhO,OAAOT,KAAK4G,MAAMlD,UAAUgL,KAAK1O,KAAK2N,WAAWhK,IAAI,SAAArB,GAAO,OAC/DyF,EAAA7I,EAAA8I,cAAA,OAAK2G,IAAMrM,EAAQvB,IACjBgH,EAAA7I,EAAA8I,cAAC4G,GAAA,EAAD,KACI,IAAIf,KAAKvL,EAAQwL,WAAWe,mBAAmB,QAAS9Q,GAD5D,gBACqFuE,EAAQwM,QAAQC,YACnGhH,EAAA7I,EAAA8I,cAACwG,GAAA,EAAD,CAASC,QAAM,IACf1G,EAAA7I,EAAA8I,cAAA,SAAK1F,EAAQ+K,SACbtF,EAAA7I,EAAA8I,cAACwG,GAAA,EAAD,CAASC,QAAM,IACf1G,EAAA7I,EAAA8I,cAACgH,GAAD,CAAkB5B,QAChBrF,EAAA7I,EAAA8I,cAACiH,GAAD,CACElO,GAAKuB,EAAQvB,GACbyL,KAAO/C,EAAK7C,MAAMsI,cAClBzC,MAAQnK,EAAQ6M,QAChBzC,MAAM,QACN1I,KAAK,YACL2I,SAAU,MAGd5E,EAAA7I,EAAA8I,cAACgH,GAAD,CAAkB5B,QAChBrF,EAAA7I,EAAA8I,cAACiH,GAAD,CACElO,GAAKuB,EAAQvB,GACbyL,KAAO/C,EAAK7C,MAAMwI,gBAClB3C,MAAQnK,EAAQ+M,UAChB3C,MAAM,SACN1I,KAAK,cACL2I,SAAU,MAGd5E,EAAA7I,EAAA8I,cAACsE,GAAA,EAAD,CAAQK,SAAO,EAACK,OAAK,EAACN,MAAM,OACxB3E,EAAA7I,EAAA8I,cAACmC,EAAA,EAAD,CAAME,KAAK,WAGjBtC,EAAA7I,EAAA8I,cAACwG,GAAA,EAAD,CAASC,QAAM,eAxFJjG,IAAMC,WAgGvBC,GAAqB,CACzBwG,cVgG2B,SAACnO,GAC5B,sBAAAkB,EAAAlD,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAO,SAAA+C,EAAMW,GAAN,IAAAyM,EAAA,OAAArQ,EAAAC,EAAAI,KAAA,SAAA6C,GAAA,cAAAA,EAAA3C,KAAA2C,EAAA1C,MAAA,cAAA0C,EAAA3C,KAAA,EAAA2C,EAAA1C,KAAA,EAEwB4C,EAAeX,OAAOX,GAF9C,OAEGuO,EAFHnN,EAAAvC,KAGHiD,EAAS,CACPf,KAAM,uBACNQ,QAASgN,IALRnN,EAAA1C,KAAA,gBAAA0C,EAAA3C,KAAA,EAAA2C,EAAAa,GAAAb,EAAA,SAQHU,EAAS,CACPf,KAAM,oBACNa,MAAKR,EAAAa,KAVJ,yBAAAb,EAAApC,SAAAmC,EAAAlC,KAAA,YAAP,gBAAAoC,GAAA,OAAAH,EAAAhC,MAAAD,KAAAE,YAAA,IUhGAkP,gBVgH6B,SAACrO,GAC9B,sBAAAwO,EAAAxQ,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAO,SAAAqQ,EAAM3M,GAAN,IAAAyM,EAAA,OAAArQ,EAAAC,EAAAI,KAAA,SAAAmQ,GAAA,cAAAA,EAAAjQ,KAAAiQ,EAAAhQ,MAAA,cAAAgQ,EAAAjQ,KAAA,EAAAiQ,EAAAhQ,KAAA,EAEwB4C,EAAeL,SAASjB,GAFhD,OAEGuO,EAFHG,EAAA7P,KAGHiD,EAAS,CACPf,KAAM,uBACNQ,QAASgN,IALRG,EAAAhQ,KAAA,gBAAAgQ,EAAAjQ,KAAA,EAAAiQ,EAAAzM,GAAAyM,EAAA,SAQH5M,EAAS,CACPf,KAAM,oBACNa,MAAK8M,EAAAzM,KAVJ,yBAAAyM,EAAA1P,SAAAyP,EAAAxP,KAAA,YAAP,gBAAA0P,GAAA,OAAAH,EAAAtP,MAAAD,KAAAE,YAAA,KU9Ga0I,eAAQ,KAAMF,GAAdE,CAAkC4E,IC3ElCmC,eA9Bb,SAAAA,EAAY/I,GAAO,IAAAvB,EAAA,OAAAtG,OAAA4L,EAAA,EAAA5L,CAAAiB,KAAA2P,IACjBtK,EAAAtG,OAAA6L,EAAA,EAAA7L,CAAAiB,KAAAjB,OAAA8L,EAAA,EAAA9L,CAAA4Q,GAAA7E,KAAA9K,KAAM4G,KAMRgJ,iBAAmB,WACjBvK,EAAK2F,SAAS,CAAE6E,SAAUxK,EAAKnC,MAAM2M,WANrCxK,EAAKnC,MAAQ,CACX2M,SAAS,GAHMxK,wEAYjB,IAAMyK,EAAkB,CAAEC,QAAS/P,KAAKkD,MAAM2M,QAAU,OAAS,IAC3DG,EAAkB,CAAED,QAAS/P,KAAKkD,MAAM2M,QAAU,GAAK,QAE7D,OACE9H,EAAA7I,EAAA8I,cAAC4G,GAAA,EAAD,KACE7G,EAAA7I,EAAA8I,cAAA,OAAKnD,MAAOiL,GACV/H,EAAA7I,EAAA8I,cAACsE,GAAA,EAAD,CAAQpC,QAASlK,KAAK4P,kBAAmB5P,KAAK4G,MAAMqJ,cAEtDlI,EAAA7I,EAAA8I,cAAA,OAAKnD,MAAOmL,GACVjI,EAAA7I,EAAA8I,cAACsE,GAAA,EAAD,CAAQU,OAAK,EAAC9C,QAASlK,KAAK4P,kBAA5B,WACA7H,EAAA7I,EAAA8I,cAACwG,GAAA,EAAD,CAASC,QAAM,IACdzO,KAAK4G,MAAMsJ,kBAxBE1H,IAAMC,WCExB0H,8MAEJC,iDAAa,SAAAhR,EAAO8L,GAAP,IAAAmF,EAAA,OAAApR,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACXyL,EAAME,mBAEFF,EAAMG,OAAO/I,QAAQiJ,MAAMpI,OAAS,GAH7B,CAAA5D,EAAAE,KAAA,eAKH4Q,EAAgB,CACpBhD,QAASnC,EAAMG,OAAO/I,QAAQiJ,MAC9B9H,UAAW4B,EAAKuB,MAAM0J,WAGxBpF,EAAMG,OAAO/I,QAAQiJ,MAAQ,GAVpBhM,EAAAE,KAAA,EAYH4F,EAAKuB,MAAMwJ,WAAWC,GAZnB,OAcLhL,EAAKuB,MAAMjE,OACbG,QAAQC,IAAI,2BACZD,QAAQC,IAAIsC,EAAKuB,MAAMjE,QAEvBG,QAAQC,IAAI,kBAlBL,wBAAAxD,EAAAQ,SAAAX,EAAAY,uIAwBX,OACE+H,EAAA7I,EAAA8I,cAACiE,GAAA,EAAD,CAAMC,SAAWlM,KAAKoQ,YACtBrI,EAAA7I,EAAA8I,cAAA,WACED,EAAA7I,EAAA8I,cAACoE,GAAA,EAAD,CACE/B,KAAK,UACLxF,MAAO,CAAEwH,UAAW,QAExBtE,EAAA7I,EAAA8I,cAACsE,GAAA,EAAD,CAAQxK,KAAK,UAAb,uBAjCoB2G,aA+CpBC,GAAqB,CACzB0H,WZgGwB,SAAC9N,GACzB,sBAAAzB,EAAA9B,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAO,SAAA2B,EAAM+B,GAAN,IAAA0N,EAAA,OAAAtR,EAAAC,EAAAI,KAAA,SAAA0B,GAAA,cAAAA,EAAAxB,KAAAwB,EAAAvB,MAAA,cAAAuB,EAAAxB,KAAA,EAAAwB,EAAAvB,KAAA,EAEsB4C,EAAenB,OAAOoB,GAF5C,OAEGiO,EAFHvP,EAAApB,KAGHiD,EAAS,CACPf,KAAM,sBACNQ,QAASiO,IALRvP,EAAAvB,KAAA,gBAAAuB,EAAAxB,KAAA,EAAAwB,EAAAgC,GAAAhC,EAAA,SAQH6B,EAAS,CACPf,KAAM,mBACNa,MAAO,oCAAA3B,EAAAgC,KAVN,yBAAAhC,EAAAjB,SAAAe,EAAAd,KAAA,YAAP,gBAAAiB,GAAA,OAAAJ,EAAAZ,MAAAD,KAAAE,YAAA,KY9Fa0I,eAVS,SAAC1F,GACvB,MAAO,CACLP,MAAOO,EAAM7B,QAAQsB,QAQe+F,GAAzBE,CAA6CuH,IC5CtDK,eAEJ,SAAAA,EAAY5J,GAAO,IAAAvB,EAAA,OAAAtG,OAAA4L,EAAA,EAAA5L,CAAAiB,KAAAwQ,IACjBnL,EAAAtG,OAAA6L,EAAA,EAAA7L,CAAAiB,KAAAjB,OAAA8L,EAAA,EAAA9L,CAAAyR,GAAA1F,KAAA9K,KAAM4G,KAWRmE,MAAQ,WACN1F,EAAK2F,SAAS,CAAEC,MAAM,IACtB5F,EAAKuB,MAAMQ,QAAQC,KAAK,MAXxBhC,EAAKnC,MAAQ,CACX+H,KAAMrE,EAAMqE,MAGVrE,EAAMvF,UACRqK,SAASJ,MAAQ5M,EAAU,KAAOkI,EAAMvF,QAAQiK,OARjCjG,wEAiBV,IAAAoE,EAAAzJ,KAEP,GAAIA,KAAK4G,MAAMvF,QAAS,CACtB,IAAMmC,EAAKxD,KAAK4G,MAAMvF,QActB,OACE0G,EAAA7I,EAAA8I,cAAA,WACED,EAAA7I,EAAA8I,cAAC2D,GAAA,EAAD,CACEV,KAAOjL,KAAKkD,MAAM+H,KAClBW,oBAAqB,EACrBC,QAAU7L,KAAK+K,MACfe,WAAS,GAET/D,EAAA7I,EAAA8I,cAAC2D,GAAA,EAAMI,OAAP,KAAgBvI,EAAG8H,OACnBvD,EAAA7I,EAAA8I,cAAC2D,GAAA,EAAMK,QAAP,KACEjE,EAAA7I,EAAA8I,cAACgH,GAAD,CAAkB5B,QAChBrF,EAAA7I,EAAA8I,cAACiH,GAAD,CACElO,GAAKyC,EAAGzC,GACRyL,KAAOxM,KAAK4G,MAAM6J,cAClBhE,MAAQjJ,EAAG2L,QACXzC,MAAM,QACN1I,KAAK,gBAGT+D,EAAA7I,EAAA8I,cAACgH,GAAD,CAAkB5B,QAChBrF,EAAA7I,EAAA8I,cAACiH,GAAD,CACElO,GAAKyC,EAAGzC,GACRyL,KAAOxM,KAAK4G,MAAM8J,gBAClBjE,MAAQjJ,EAAG6L,UACX3C,MAAM,SACN1I,KAAK,kBAGT+D,EAAA7I,EAAA8I,cAACsE,GAAA,EAAD,CAAQU,OAAK,EAACN,MAAM,OACd3E,EAAA7I,EAAA8I,cAACmC,EAAA,EAAD,CAAME,KAAK,UAEjBtC,EAAA7I,EAAA8I,cAAA,QAAMnD,MAAQ,CAAEuF,YAAa,QAA7B,eAAkD5G,EAAGsL,QAAQzE,MAC7DtC,EAAA7I,EAAA8I,cAACwG,GAAA,EAAD,CAASC,QAAM,IACbjL,EAAGgI,YACLzD,EAAA7I,EAAA8I,cAACwG,GAAA,EAAD,CAASC,QAAM,IA7CjBhF,EAAK7C,MAAMW,eAEXQ,EAAA7I,EAAA8I,cAAC2I,GAAD,CAAWV,YAAY,aACrBlI,EAAA7I,EAAA8I,cAAC4I,GAAD,CAAaN,UAAY9M,EAAGzC,MAIzB,KAwCHgH,EAAA7I,EAAA8I,cAAC6I,GAAD,CAAUnN,SAAWF,EAAGE,cAMhC,OACEqE,EAAA7I,EAAA8I,cAAA,WACED,EAAA7I,EAAA8I,cAAC2D,GAAA,EAAD,CACEV,KAAMjL,KAAKkD,MAAM+H,KACjBW,oBAAoB,EACpBC,QAAS7L,KAAK+K,MACde,WAAS,GAET/D,EAAA7I,EAAA8I,cAAC2D,GAAA,EAAMI,OAAP,iCACAhE,EAAA7I,EAAA8I,cAAC2D,GAAA,EAAMK,QAAP,KACEjE,EAAA7I,EAAA8I,cAAA,2CAxFQS,aAuGhBC,GAAqB,CACzB+H,cbkD2B,SAAC1P,GAE5B,OADA+B,QAAQC,IAAI,UACZ,eAAA5B,EAAApC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAO,SAAAiC,EAAMyB,GAAN,IAAAiO,EAAA,OAAA7R,EAAAC,EAAAI,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAAA6B,EAAA9B,KAAA,EAAA8B,EAAA7B,KAAA,EAEwBb,EAAe8C,OAAOX,GAF9C,OAEG+P,EAFHxP,EAAA1B,KAGHiD,EAAS,CACPf,KAAM,uBACNT,QAASyP,IALRxP,EAAA7B,KAAA,gBAAA6B,EAAA9B,KAAA,EAAA8B,EAAA0B,GAAA1B,EAAA,SAQHuB,EAAS,CACPf,KAAM,oBACNa,MAAKrB,EAAA0B,KAVJ,yBAAA1B,EAAAvB,SAAAqB,EAAApB,KAAA,YAAP,gBAAAyB,GAAA,OAAAN,EAAAlB,MAAAD,KAAAE,YAAA,IanDAwQ,gBbmE6B,SAAC3P,GAC9B,sBAAAY,EAAA5C,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAO,SAAAyC,EAAMiB,GAAN,IAAAiO,EAAA,OAAA7R,EAAAC,EAAAI,KAAA,SAAAuC,GAAA,cAAAA,EAAArC,KAAAqC,EAAApC,MAAA,cAAAoC,EAAArC,KAAA,EAAAqC,EAAApC,KAAA,EAEwBb,EAAeoD,SAASjB,GAFhD,OAEG+P,EAFHjP,EAAAjC,KAGHiD,EAAS,CACPf,KAAM,uBACNT,QAASyP,IALRjP,EAAApC,KAAA,gBAAAoC,EAAArC,KAAA,EAAAqC,EAAAmB,GAAAnB,EAAA,SAQHgB,EAAS,CACPf,KAAM,oBACNa,MAAKd,EAAAmB,KAVJ,yBAAAnB,EAAA9B,SAAA6B,EAAA5B,KAAA,YAAP,gBAAA+B,GAAA,OAAAJ,EAAA1B,MAAAD,KAAAE,YAAA,KajEayI,eAAWC,YAXF,SAAC1F,GACvB,MAAO,CACLqE,eAAgBrE,EAAM4F,KAAKvB,iBASoBmB,GAAzBE,CAA6C4H,KChHjEO,eAEJ,SAAAA,EAAYnK,GAAO,IAAAvB,EAAA,OAAAtG,OAAA4L,EAAA,EAAA5L,CAAAiB,KAAA+Q,IACjB1L,EAAAtG,OAAA6L,EAAA,EAAA7L,CAAAiB,KAAAjB,OAAA8L,EAAA,EAAA9L,CAAAgS,GAAAjG,KAAA9K,KAAM4G,KAQRmE,MAAQ,WACN1F,EAAK2F,SAAS,CAAEC,MAAM,IACtB5F,EAAKuB,MAAMQ,QAAQC,KAAK,MAXPhC,EAcnB/G,MAdmB,eAAAQ,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAcX,SAAAC,EAAO8L,GAAP,OAAAjM,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACNyL,EAAME,mBAEFF,EAAMG,OAAO2F,SAASzF,MAAMpI,OAAS,GACrC+H,EAAMG,OAAO4F,SAAS1F,MAAMpI,OAAS,GAJnC,CAAA5D,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAMI4J,EAAa/K,MAAM,CACvB0S,SAAU9F,EAAMG,OAAO2F,SAASzF,MAChC0F,SAAU/F,EAAMG,OAAO4F,SAAS1F,QARhC,OAUFlG,EAAKuB,MAAMsC,iBAAgB,GAC3B7D,EAAK0F,QAXHxL,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAyD,GAAAzD,EAAA,SAaFuD,QAAQC,IAARxD,EAAAyD,IAbE,yBAAAzD,EAAAQ,SAAAX,EAAAY,KAAA,YAdW,gBAAAU,GAAA,OAAA5B,EAAAmB,MAAAD,KAAAE,YAAA,GAGjBmF,EAAKnC,MAAQ,CACX+H,KAAMrE,EAAMqE,MAEdS,SAASJ,MAAQ5M,EAAU,aANV2G,wEAkCjB,OACE0C,EAAA7I,EAAA8I,cAAA,WACED,EAAA7I,EAAA8I,cAAC2D,GAAA,EAAD,CACEV,KAAMjL,KAAKkD,MAAM+H,KACjBW,oBAAoB,EACpBC,QAAS7L,KAAK+K,MACde,WAAS,GAET/D,EAAA7I,EAAA8I,cAAC2D,GAAA,EAAMI,OAAP,oBACAhE,EAAA7I,EAAA8I,cAAC2D,GAAA,EAAMK,QAAP,KACEjE,EAAA7I,EAAA8I,cAACiE,GAAA,EAAD,CAAMC,SAAWlM,KAAK1B,OACpByJ,EAAA7I,EAAA8I,cAAA,sCAEED,EAAA7I,EAAA8I,cAACiE,GAAA,EAAKE,MAAN,CACErK,KAAK,OACLuI,KAAK,cAGTtC,EAAA7I,EAAA8I,cAAA,uBAEED,EAAA7I,EAAA8I,cAACiE,GAAA,EAAKE,MAAN,CACErK,KAAK,WACLuI,KAAK,cAGTtC,EAAA7I,EAAA8I,cAACsE,GAAA,EAAD,CAAQxK,KAAK,SAASkC,MAAI,EAAC+I,cAAc,SAAzC,wBAEEhF,EAAA7I,EAAA8I,cAACmC,EAAA,EAAD,CAAME,KAAK,aAEbtC,EAAA7I,EAAA8I,cAAA,QAAMnD,MAAQ,CAAEuF,YAAa,QAC3BrC,EAAA7I,EAAA8I,cAACsF,GAAA,EAAD,CAAM7C,GAAI,CACNyG,SAAU7S,EAAOE,SACjB2E,MAAO,CAAE+H,MAAM,KAFnB,gCAlEQxC,aAgFlBC,GAAqB,CACzBQ,mBAGaP,eAAWC,YAAQ,KAAMF,GAAdE,CAAkCmI,eCtFtDI,eAEJ,SAAAA,EAAYvK,GAAO,IAAAvB,EAAA,OAAAtG,OAAA4L,EAAA,EAAA5L,CAAAiB,KAAAmR,IACjB9L,EAAAtG,OAAA6L,EAAA,EAAA7L,CAAAiB,KAAAjB,OAAA8L,EAAA,EAAA9L,CAAAoS,GAAArG,KAAA9K,KAAM4G,KAmBRmE,MAAQ,WACN1F,EAAK2F,SAAS,CACZC,MAAM,EACN+F,SAAU,GACVC,SAAU,GACVG,aAAc,GACdrC,YAAa,GACbsC,MAAO,GACPC,eAAe,EACfC,eAAe,EACfC,kBAAkB,EAClBC,YAAY,EACZC,cAAe,KAEjBrM,EAAKuB,MAAMQ,QAAQC,KAAKhJ,EAAOC,QAlCd+G,EAqCnB9G,SArCmB,eAAAO,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAqCR,SAAAC,EAAO8L,GAAP,IAAAyG,EAAA,OAAA1S,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACTyL,EAAME,iBAEN/F,EAAK2F,SAAS,CACZsG,eAAe,EACfC,eAAe,EACfC,kBAAkB,EAClBC,YAAY,MAGVpM,EAAKnC,MAAM8N,SAAS7N,OAAS,GAVxB,CAAA5D,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAWD4F,EAAK2F,SAAS,CAClBsG,eAAe,EACfI,cAAerM,EAAKnC,MAAMwO,cAAcjR,OAAO,yFAb1C,YAgBL4E,EAAKnC,MAAM+N,SAAS9N,OAAS,GAC7BkC,EAAKnC,MAAM+N,WAAa5L,EAAKnC,MAAMkO,cAjB9B,CAAA7R,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAkBD4F,EAAK2F,SAAS,CAClBuG,eAAe,EACfG,cAAerM,EAAKnC,MAAMwO,cAAcjR,OAAO,wEApB1C,YAuBL4E,EAAKnC,MAAM6L,YAAY5L,OAAS,GAvB3B,CAAA5D,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,GAwBD4F,EAAK2F,SAAS,CAClBwG,kBAAkB,EAClBE,cAAerM,EAAKnC,MAAMwO,cAAcjR,OAAO,qFA1B1C,aA6BL4E,EAAKnC,MAAMmO,MAAMlO,OAAS,GA7BrB,CAAA5D,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,GA8BD4F,EAAK2F,SAAS,CAClByG,YAAY,EACZC,cAAerM,EAAKnC,MAAMwO,cAAcjR,OAAO,0CAhC1C,aAoCL4E,EAAKnC,MAAMoO,eACXjM,EAAKnC,MAAMqO,eACXlM,EAAKnC,MAAMsO,kBACXnM,EAAKnC,MAAMuO,YAvCN,CAAAlS,EAAAE,KAAA,gBAAAF,EAAAM,OAAA,yBA4CD8R,EAAa,CACjBX,SAAU3L,EAAKnC,MAAM8N,SACrBC,SAAU5L,EAAKnC,MAAM+N,SACrBlC,YAAa1J,EAAKnC,MAAM6L,YACxBsC,MAAOhM,EAAKnC,MAAMmO,OAhDb9R,EAAAC,KAAA,GAAAD,EAAAE,KAAA,GAoDC4J,EAAa9K,SAASoT,GApDvB,QAqDLtM,EAAK0F,QArDAxL,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAyD,GAAAzD,EAAA,UAwDLuD,QAAQC,IAAI,mCACZD,QAAQC,IAARxD,EAAAyD,IAC8B,MAA1BzD,EAAAyD,GAAM3D,SAASuS,SACmB,8CAAhCrS,EAAAyD,GAAM3D,SAASS,KAAK+R,QACtBxM,EAAK2F,SAAS,CACZ0G,cAAe,CAAC,iFAGlBrM,EAAK2F,SAAS,CACZ0G,cAAe,CAAC,8EAjEjB,yBAAAnS,EAAAQ,SAAAX,EAAAY,KAAA,cArCQ,gBAAAU,GAAA,OAAA5B,EAAAmB,MAAAD,KAAAE,YAAA,GAAAmF,EA8GnByM,aAAe,SAAC5G,GACd7F,EAAK2F,SAALjM,OAAAgT,GAAA,EAAAhT,CAAA,GAAiBmM,EAAMG,OAAOhB,KAAOa,EAAMG,OAAOE,SA5GlDlG,EAAKnC,MAAQ,CACX+H,KAAMrE,EAAMqE,KACZ+F,SAAU,GACVC,SAAU,GACVG,aAAc,GACdrC,YAAa,GACbsC,MAAO,GACPC,eAAe,EACfC,eAAe,EACfC,kBAAkB,EAClBC,YAAY,EACZC,cAAe,IAGjBhG,SAASJ,MAAQ5M,EAAU,oBAjBV2G,wEAmHjB,IAAM2M,EAAgB,CAAEjC,QAAS/P,KAAKkD,MAAMwO,cAAcvO,OAAS,EAAI,GAAK,QAG5E,OADAL,QAAQC,IAAI,QAAU/C,KAAKkD,MAAM+H,MAE/BlD,EAAA7I,EAAA8I,cAAA,WACED,EAAA7I,EAAA8I,cAAC2D,GAAA,EAAD,CACEV,KAAMjL,KAAKkD,MAAM+H,KACjBW,oBAAoB,EACpBC,QAAS7L,KAAK+K,MACde,WAAS,GAET/D,EAAA7I,EAAA8I,cAAC2D,GAAA,EAAMI,OAAP,6CACAhE,EAAA7I,EAAA8I,cAAC2D,GAAA,EAAMK,QAAP,KACEjE,EAAA7I,EAAA8I,cAAC4G,GAAA,EAAD,CAAS/J,MAAQmN,EAAgBtF,MAAM,MAAMuF,UAAQ,EAACC,WAAS,GAA/D,yBAEEnK,EAAA7I,EAAA8I,cAAA,UACIhI,KAAKkD,MAAMwO,cAAc/N,IAAI,SAAAhB,GAC7B,OAAQoF,EAAA7I,EAAA8I,cAAA,MAAI2G,IAAKhM,GAAQA,OAK/BoF,EAAA7I,EAAA8I,cAACiE,GAAA,EAAD,CAAMC,SAAWlM,KAAKzB,UACpBwJ,EAAA7I,EAAA8I,cAACiE,GAAA,EAAKkG,MAAN,gCAEEpK,EAAA7I,EAAA8I,cAACiE,GAAA,EAAKE,MAAN,CACErK,KAAK,OACLuI,KAAK,WACL1H,MAAQ3C,KAAKkD,MAAMoO,cACnBhD,SAAWtO,KAAK8R,aAChBnI,SAAS,SAGb5B,EAAA7I,EAAA8I,cAAA,uBAEED,EAAA7I,EAAA8I,cAACiE,GAAA,EAAKE,MAAN,CACErK,KAAK,WACLuI,KAAK,WACL1H,MAAQ3C,KAAKkD,MAAMqO,cACnBjD,SAAWtO,KAAK8R,gBAGpB/J,EAAA7I,EAAA8I,cAAA,iCAEED,EAAA7I,EAAA8I,cAACiE,GAAA,EAAKE,MAAN,CACErK,KAAK,WACLuI,KAAK,eACL1H,MAAQ3C,KAAKkD,MAAMqO,cACnBjD,SAAWtO,KAAK8R,gBAGpB/J,EAAA7I,EAAA8I,cAAA,yBAEED,EAAA7I,EAAA8I,cAACiE,GAAA,EAAKE,MAAN,CACErK,KAAK,OACLuI,KAAK,cACL1H,MAAQ3C,KAAKkD,MAAMsO,iBACnBlD,SAAWtO,KAAK8R,gBAGpB/J,EAAA7I,EAAA8I,cAAA,qCAEED,EAAA7I,EAAA8I,cAACiE,GAAA,EAAKE,MAAN,CACErK,KAAK,OACLuI,KAAK,QACL1H,MAAQ3C,KAAKkD,MAAMuO,WACnBnD,SAAWtO,KAAK8R,gBAGpB/J,EAAA7I,EAAA8I,cAACsE,GAAA,EAAD,CAAQxK,KAAK,UAAb,8BA1La2G,aAqMZE,eAAWwI,IC3LpBiB,uTAGIpS,KAAK4G,MAAMhE,4BACb5C,KAAK4G,MAAMnI,WACbqE,QAAQC,IAAI/C,KAAK4G,MAAMnI,UACvBuB,KAAK4G,MAAMzC,iBAAiBnE,KAAK4G,MAAMnI,WAEzCuB,KAAK4G,MAAMyL,sJAGJ,IAAAhN,EAAArF,KAOP,OADA0L,SAASJ,MAAQ5M,EAEfqJ,EAAA7I,EAAA8I,cAAA,WACED,EAAA7I,EAAA8I,cAAA,WACED,EAAA7I,EAAA8I,cAACsK,GAAD,OAEFvK,EAAA7I,EAAA8I,cAAA,OAAKjH,GAAG,aACRgH,EAAA7I,EAAA8I,cAAA,OAAKjH,GAAG,gBACNgH,EAAA7I,EAAA8I,cAACuK,EAAD,OAEFxK,EAAA7I,EAAA8I,cAACwK,EAAA,EAAD,CAAOhI,OAAK,EACViI,KAAI,GAAAhS,OAAMpC,EAAOI,SAAb,QACJiU,OAAS,SAAA5T,GAAA,IAjBMiC,EAiBH4R,EAAH7T,EAAG6T,MAAH,OACP5K,EAAA7I,EAAA8I,cAAC4K,GAAD,CACE3H,MAAO,EACP5J,SApBWN,EAoBW4R,EAAME,OAAO9R,GAnB3BsE,EAAKuB,MAAMnI,SAAS8E,KAAK,SAAAlC,GAAO,OAAIA,EAAQN,KAAOA,UAuBjEgH,EAAA7I,EAAA8I,cAACwK,EAAA,EAAD,CAAOhI,OAAK,EAACiI,KAAOpU,EAAOG,WAAakU,OAAS,SAAAtS,KAAGuS,MAAH,OAC/C5K,EAAA7I,EAAA8I,cAAC8K,GAAD,CACE7H,MAAO,EACP/G,YAAcmB,EAAKuB,MAAM1C,iBAG7B6D,EAAA7I,EAAA8I,cAACwK,EAAA,EAAD,CAAOhI,OAAK,EAACiI,KAAOpU,EAAOC,MAAQoU,OAAS,SAAA7R,KAAG8R,MAAH,OAC1C5K,EAAA7I,EAAA8I,cAAC+K,GAAD,CAAW9H,MAAO,OAEpBlD,EAAA7I,EAAA8I,cAACwK,EAAA,EAAD,CAAOhI,OAAK,EAACiI,KAAOpU,EAAOE,SAAWmU,OAAS,SAAAvR,KAAGwR,MAAH,OAC7C5K,EAAA7I,EAAA8I,cAACgL,GAAD,CAAc/H,MAAO,eA9CbzC,IAAMC,WA4DlBC,GAAqB,CACzB9F,qBACAuB,mBACAkO,iBZpD8B,WAC9B,sBAAAvT,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAO,SAAAC,EAAMyD,GAAN,OAAA5D,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEGsJ,EAAYC,aAFf,OAGHnG,EAAS,CACPf,KAAM,mBACNqH,UAAU,IALT5J,EAAAE,KAAA,eAAAF,EAAAC,KAAA,EAAAD,EAAAyD,GAAAzD,EAAA,SAQHuD,QAAQC,IAARxD,EAAAyD,IARG,wBAAAzD,EAAAQ,SAAAX,EAAAY,KAAA,YAAP,gBAAAU,GAAA,OAAA5B,EAAAmB,MAAAD,KAAAE,YAAA,KYsDayI,eAAWC,YAbF,SAAC1F,GACvB,MAAO,CACLzE,SAAUyE,EAAM7B,QAAQ5C,SACxByF,YAAahB,EAAM7B,QAAQqB,iBAUoBgG,GAAzBE,CAA6CwJ,kCC1EjEa,GAAUC,2BAAgB,CAC9BvP,IAAKW,EACLwE,KAAMM,EACN/H,QAAS4B,IAUIkQ,GAPDC,uBACZH,GACAI,+BACEC,2BAAgBC,kBCVdb,GAAS,WACbc,IAASd,OACP3K,EAAA7I,EAAA8I,cAACyL,EAAA,EAAD,CAAUN,MAAOA,IACfpL,EAAA7I,EAAA8I,cAAC0L,GAAA,EAAD,KACE3L,EAAA7I,EAAA8I,cAAC2L,GAAD,QAGJjI,SAASkI,eAAe,UAI5BlB,KACAS,GAAMU,UAAUnB","file":"static/js/main.6c0627e5.chunk.js","sourcesContent":["const dateFormat = {\r\n  year: 'numeric',\r\n  month: 'numeric',\r\n  day: 'numeric',\r\n  hour: 'numeric',\r\n  minute: 'numeric'\r\n}\r\n\r\nconst routes = {\r\n  login: '/kirjaudu',\r\n  register: '/rekisteroidy',\r\n  addHotspot: '/lisaa_kohde',\r\n  hotspots: '/kohteet'\r\n}\r\n\r\nconst appName = 'Luontovahdit'\r\n\r\nexport { dateFormat, routes, appName }","import axios from 'axios'\r\nconst baseUrl = '/api/hotspots'\r\n\r\nconst getAll = async () => {\r\n  const response = await axios.get(baseUrl)\r\n  return response.data\r\n}\r\n\r\nconst getHotspotsByCoordinates = async (lng, lat) => {\r\n  const response = await axios.get(`${baseUrl}/@${lng},${lat}`)\r\n  return response.data\r\n}\r\n\r\nconst getHotspot = async (id) => {\r\n  const response = await axios.get(`${baseUrl}/${id}`)\r\n  return response.data\r\n}\r\n\r\nconst create = async (hotspot) => {\r\n  const response = await axios.post(baseUrl, hotspot, { withCredentials: true })\r\n  return response.data\r\n}\r\n\r\nconst upVote = async (id) => {\r\n  const response = await axios.post(`${baseUrl}/${id}/vote`,\r\n    { type: 'upVote' },\r\n    { withCredentials: true })\r\n  return response.data\r\n}\r\n\r\nconst downVote = async (id) => {\r\n  const response = await axios.post(`${baseUrl}/${id}/vote`,\r\n    { type: 'downVote' },\r\n    { withCredentials: true })\r\n  return response.data\r\n}\r\n\r\nexport default { getAll, getHotspotsByCoordinates, getHotspot, create, upVote, downVote }","import axios from 'axios'\r\nconst baseUrl = '/api/comments'\r\n\r\nconst create = async (comment) => {\r\n  const response = await axios.post(baseUrl, comment, { withCredentials: true })\r\n  return response.data\r\n}\r\n\r\nconst upVote = async (id) => {\r\n  const response = await axios.post(`${baseUrl}/${id}/vote`,\r\n    { type: 'upVote' },\r\n    { withCredentials: true })\r\n  return response.data\r\n}\r\n\r\nconst downVote = async (id) => {\r\n  const response = await axios.post(`${baseUrl}/${id}/vote`,\r\n    { type: 'downVote' },\r\n    { withCredentials: true })\r\n  return response.data\r\n}\r\n\r\nexport default { create, upVote, downVote }","import hotspotService from '../services/hotspotService'\r\nimport commentService from '../services/commentService'\r\n\r\nconst initialState = {\r\n  hotspots:  [],\r\n  currentHotspot: null,\r\n  newHotspot: null,\r\n  newCoordinates: [],\r\n  error: null\r\n}\r\n\r\nconst hotspotReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case 'GET_HOTSPOTS_SUCCESS':\r\n      return {\r\n        hotspots: action.hotspots,\r\n        error: null\r\n      }\r\n    case 'GET_HOTSPOTS_FAIL':\r\n      return {\r\n        ...state,\r\n        error: action.error\r\n      }\r\n    case 'SET_CURRENT_HOTSPOT':\r\n      return {\r\n        ...state,\r\n        currentHotspot: state.hotspots.find(hs => hs.id === action.id),\r\n        error: null\r\n      }\r\n    case 'SET_NEW_COORDINATES':\r\n      return {\r\n        ...state,\r\n        newCoordinates: action.newCoordinates\r\n      }\r\n    case 'ADD_HOTSPOT_SUCCESS':\r\n      return {\r\n        ...state,\r\n        hotspots: state.hotspots.concat(action.hotspot),\r\n        newHotspot: action.hotspot,\r\n        error: null\r\n      }\r\n    case 'ADD_HOTSPOT_FAIL':\r\n      return {\r\n        ...state,\r\n        error: action.error\r\n      }\r\n    case 'ADD_COMMENT_SUCCESS':\r\n      let hotspot = {...state.hotspots.find(hs => hs.id === action.comment.inHotspot.id)}\r\n      hotspot.comments = hotspot.comments.concat(action.comment)\r\n      return {\r\n        ...state,\r\n        hotspots: state.hotspots.map(hs =>\r\n          hs.id === hotspot.id\r\n          ? hotspot\r\n          : hs),\r\n        currentHotspot: hotspot,\r\n        error: null\r\n      }\r\n    case 'ADD_COMMENT_FAIL':\r\n      return {\r\n        ...state,\r\n        error: action.error\r\n      }\r\n    case 'VOTE_HOTSPOT_SUCCESS':\r\n      return {\r\n        ...state,\r\n        hotspots: state.hotspots.map(hs =>\r\n          hs.id === action.hotspot.id\r\n          ? action.hotspot\r\n          : hs),\r\n        currentHotspot: action.hotspot\r\n      }\r\n      case 'VOTE_HOTSPOT_FAIL':\r\n      return {\r\n        ...state,\r\n        error: action.error\r\n      }\r\n      case 'VOTE_COMMENT_SUCCESS':\r\n      hotspot = {...state.hotspots.find(hs => hs.id === action.comment.inHotspot.id)}\r\n      let commentIndex = hotspot.comments.findIndex((c) => c.id === action.comment.id)\r\n      hotspot.comments[commentIndex] = action.comment\r\n      return {\r\n        ...state,\r\n        hotspots: state.hotspots.map(hs =>\r\n          hs.id === hotspot.id\r\n          ? hotspot\r\n          : hs),\r\n        currentHotspot: hotspot,\r\n        error: null\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const initialiseHotspots = () => {\r\n  return async dispatch => {\r\n    try {\r\n      const hotspots = await hotspotService.getAll()\r\n      console.log(hotspots)\r\n      dispatch({\r\n        type:'GET_HOTSPOTS_SUCCESS',\r\n        hotspots\r\n      })\r\n    } catch (error) {\r\n      dispatch({\r\n        type: 'GET_HOTSPOTS_FAIL',\r\n        error: 'Virhe kohteiden haussa! ' + error\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport const setNewCoordinates = (newCoordinates) => {\r\n  return dispatch => {\r\n    dispatch({\r\n      type: 'SET_NEW_COORDINATES',\r\n      newCoordinates\r\n    })\r\n  }\r\n}\r\n\r\nexport const addHotspot = (hotspot) => {\r\n  return async dispatch => {\r\n    try {\r\n      const newHotspot = await hotspotService.create(hotspot)\r\n      dispatch({\r\n        type: 'ADD_HOTSPOT_SUCCESS',\r\n        hotspot: newHotspot\r\n      })\r\n    } catch (error) {\r\n      dispatch({\r\n        type: 'ADD_HOTSPOT_FAIL',\r\n        error: 'Kohdetta ei voitu lisätä! ' + error\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport const setCurrentHotspot = (id) => {\r\n  return dispatch => {\r\n    dispatch({\r\n      type: 'SET_CURRENT_HOTSPOT',\r\n      id\r\n    })\r\n  }\r\n}\r\n\r\nexport const addComment = (comment) => {\r\n  return async dispatch => {\r\n    try {\r\n      const newComment = await commentService.create(comment)\r\n      dispatch({\r\n        type: 'ADD_COMMENT_SUCCESS',\r\n        comment: newComment\r\n      })\r\n    } catch (error) {\r\n      dispatch({\r\n        type: 'ADD_COMMENT_FAIL',\r\n        error: 'Kommentia ei voitu lisätä! ' + error\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport const upVoteHotspot = (id) => {\r\n  console.log('upvote')\r\n  return async dispatch => {\r\n    try {\r\n      const votedHotspot = await hotspotService.upVote(id)\r\n      dispatch({\r\n        type: 'VOTE_HOTSPOT_SUCCESS',\r\n        hotspot: votedHotspot\r\n      })\r\n    } catch (error) {\r\n      dispatch({\r\n        type: 'VOTE_HOTSPOT_FAIL',\r\n        error\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport const downVoteHotspot = (id) => {\r\n  return async dispatch => {\r\n    try {\r\n      const votedHotspot = await hotspotService.downVote(id)\r\n      dispatch({\r\n        type: 'VOTE_HOTSPOT_SUCCESS',\r\n        hotspot: votedHotspot\r\n      })\r\n    } catch (error) {\r\n      dispatch({\r\n        type: 'VOTE_HOTSPOT_FAIL',\r\n        error\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport const upVoteComment = (id) => {\r\n  return async dispatch => {\r\n    try {\r\n      const votedComment = await commentService.upVote(id)\r\n      dispatch({\r\n        type: 'VOTE_COMMENT_SUCCESS',\r\n        comment: votedComment\r\n      })\r\n    } catch (error) {\r\n      dispatch({\r\n        type: 'VOTE_COMMENT_FAIL',\r\n        error\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport const downVoteComment = (id) => {\r\n  return async dispatch => {\r\n    try {\r\n      const votedComment = await commentService.downVote(id)\r\n      dispatch({\r\n        type: 'VOTE_COMMENT_SUCCESS',\r\n        comment: votedComment\r\n      })\r\n    } catch (error) {\r\n      dispatch({\r\n        type: 'VOTE_COMMENT_FAIL',\r\n        error\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport default hotspotReducer","const initialState = {\r\n  hotspots:  [\r\n    {\r\n      \"type\": \"Feature\",\r\n      \"properties\": {\r\n        \"id\": \"5c1e0b21ee7a321eb40f3e12\",\r\n        \"icon\": \"star\"\r\n      },\r\n      \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [24.8297076, 60.3190656]\r\n      }\r\n    },\r\n    {\r\n      \"type\": \"Feature\",\r\n      \"properties\": {\r\n        \"id\": \"5c1e2ecbc969793cecad491a\",\r\n        \"icon\": \"star\"\r\n      },\r\n      \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [25, 60.2]\r\n      }\r\n    }\r\n  ]\r\n}\r\n\r\nconst mapReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'SET_HOTSPOTS':\r\n      return {\r\n        hotspots: action.hotspots\r\n      }\r\n    case 'ADD_HOTSPOT':\r\n      return {\r\n        hotspots: state.hotspots.concat(action.hotspot)\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const setHotspotsOnMap = (hotspots) => {\r\n  return dispatch => {\r\n    const hotspotFeatures = hotspots.map(hs => {\r\n      return {\r\n        'type': 'Feature',\r\n        'properties': {\r\n          'id': hs.id,\r\n          'icon': 'star'\r\n        },\r\n        'geometry': {\r\n          'type': 'Point',\r\n          'coordinates': hs.location.coordinates\r\n        }\r\n      }\r\n    })\r\n    console.log(hotspotFeatures)\r\n    dispatch({\r\n      type: 'SET_HOTSPOTS',\r\n      hotspots: hotspotFeatures\r\n    })\r\n  }\r\n}\r\n\r\nexport const addHotspot = (hotspot) => {\r\n  return dispatch => {\r\n    let newHotspot = {\r\n      \"type\": \"Feature\",\r\n      \"properties\": {\r\n        \"id\": hotspot.id,\r\n        \"icon\": \"star\"\r\n      },\r\n      \"geometry\": {\r\n        'type': 'Point',\r\n        'coordinates': hotspot.location.coordinates\r\n      }\r\n    }\r\n    console.log(newHotspot)\r\n    console.log(hotspot.location)\r\n    dispatch({\r\n      type: 'ADD_HOTSPOT',\r\n      hotspot: newHotspot\r\n    })\r\n  }\r\n}\r\n\r\nexport default mapReducer","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { routes } from '../constants'\r\nimport mapboxgl from 'mapbox-gl'\r\nimport MapboxGeocoder from '@mapbox/mapbox-gl-geocoder'\r\nimport MapboxLanguage from '@mapbox/mapbox-gl-language'\r\nimport { initialiseHotspots, setNewCoordinates } from '../reducers/hotspotReducer'\r\nimport { addHotspot, setHotspotsOnMap } from '../reducers/mapReducer'\r\n\r\nclass Map extends React.Component {\r\n\r\n  async componentDidMount() {\r\n\r\n\r\n    mapboxgl.accessToken = process.env.REACT_APP_MAPTOKEN\r\n\r\n    // restrict map to Finland\r\n    // [west, south, east, north] \r\n    const bounds = [ 19.274990495527675, 59.64523662578557,\r\n      31.618656929369678, 70.13546651354179]\r\n\r\n    this.map = new mapboxgl.Map({\r\n      container: 'map',\r\n      style: 'mapbox://styles/mapbox/streets-v9',\r\n      center: [24.7385109, 60.11021], // default to approximately Helsinki\r\n      zoom: 10,\r\n      minZoom: 10,\r\n      maxZoom: 18,\r\n      maxBounds: bounds\r\n    })\r\n\r\n    const locateSuccess = (position) => {\r\n      this.map = this.map.setCenter([position.coords.longitude, position.coords.latitude])\r\n    }\r\n\r\n    const locateFail = (error) => console.log(error)\r\n\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(locateSuccess, locateFail)\r\n    }\r\n\r\n    this.map.addControl(new MapboxLanguage({  defaultLanguage: 'mul' }))\r\n\r\n\r\n    // Geocoder\r\n\r\n    const geocoder = new MapboxGeocoder({\r\n      accessToken: mapboxgl.accessToken,\r\n      language: 'FI',\r\n      country: 'FI',\r\n      bbox: bounds,\r\n      placeholder: 'Etsi...'\r\n    })\r\n\r\n    geocoder.on('result', (e) => {\r\n      console.log(e)\r\n      console.log(e.result.geometry.coordinates)\r\n    })\r\n\r\n    this.map.addControl(geocoder)\r\n\r\n\r\n    // Map events\r\n\r\n    this.map.on('load', () => {\r\n      this.map.addSource('hotspots', {\r\n        \"type\": \"geojson\",\r\n        \"data\": {\r\n          \"type\": \"FeatureCollection\",\r\n          \"features\": this.props.hotspots\r\n        }\r\n      })\r\n\r\n      this.map.addLayer({\r\n        \"id\": \"hotspot\",\r\n        \"source\": \"hotspots\",\r\n        \"type\": \"symbol\",\r\n        \"layout\": {\r\n          \"icon-image\": \"{icon}-15\",\r\n          \"icon-allow-overlap\": true\r\n        }\r\n      })\r\n\r\n    })\r\n\r\n    this.map.on('click', 'hotspot', (e) => {\r\n      e.originalEvent.cancelBubble = true\r\n      this.props.history.push(routes.hotspots + '/' + e.features[0].properties.id)\r\n    })\r\n\r\n    this.map.on('click', (e) => {\r\n      if (e.originalEvent.cancelBubble){\r\n        return\r\n      }\r\n      console.log(e.lngLat.lng + ' ' + e.lngLat.lat)\r\n      if (this.props.isUserLoggedIn) {\r\n        this.props.setNewCoordinates([ e.lngLat.lng, e.lngLat.lat ])\r\n        this.props.history.push(routes.addHotspot)\r\n      } else {\r\n        // TODO: add styles for .mapboxgl-popup\r\n        new mapboxgl.Popup()\r\n          .setLngLat(e.lngLat)\r\n          .setHTML(`<a href=\"${ routes.login }\">Kirjaudu sisään?</a>`)\r\n          .addTo(this.map)\r\n      }\r\n\r\n    })\r\n\r\n    \r\n    /*await this.props.initialiseHotspots()\r\n    if (this.props.hotspotsData) {\r\n      console.log(this.props.hotspotsData)\r\n      this.props.setHotspotsOnMap(this.props.hotspotsData)\r\n    }*/\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const source = this.map.getSource('hotspots')\r\n    \r\n    if (source) {\r\n      this.map.getSource('hotspots').setData({\r\n        \"type\": \"FeatureCollection\",\r\n        \"features\": this.props.hotspots\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const mapStyle = {\r\n      position: 'absolute',\r\n      top:0,\r\n      bottom:0,\r\n      width:'100%',\r\n      height:'100%',\r\n      textAlign: 'left',\r\n      marginTop: '43px',\r\n      zIndex: 10\r\n    }\r\n    return (\r\n      <div id='map' style={mapStyle} />\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    hotspots: state.map.hotspots,\r\n    hotspotsData: state.hotspot.hotspots,\r\n    isUserLoggedIn: state.user.isUserLoggedIn\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  setNewCoordinates,\r\n  addHotspot,\r\n  initialiseHotspots,\r\n  setHotspotsOnMap\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Map))","import axios from 'axios'\r\n\r\nconst getProfile = async (credentials) => {\r\n  const response = await axios.get('/profile/get', credentials)\r\n  return response.data\r\n}\r\n\r\nexport default { getProfile }","import userService from '../services/userService'\r\n\r\nconst initialState = {\r\n  isUserLoggedIn: false\r\n}\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'SET_USERLOGGEDIN':\r\n      return {\r\n        ...state,\r\n        isUserLoggedIn: action.loggedIn\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const setUserLoggedIn = (loggedIn) => {\r\n  return dispatch => {\r\n    dispatch({\r\n      type: 'SET_USERLOGGEDIN',\r\n      loggedIn\r\n    })\r\n  }\r\n}\r\n\r\nexport const checkUserSession = () => {\r\n  return async dispatch => {\r\n    try {\r\n      await userService.getProfile()\r\n      dispatch({\r\n        type: 'SET_USERLOGGEDIN',\r\n        loggedIn: true\r\n      })\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n}\r\n\r\nexport default userReducer","import axios from 'axios'\r\n\r\nconst login = async (credentials) => {\r\n  const response = await axios.post('/login', credentials)\r\n  return response.data\r\n}\r\n\r\nconst logout = async () => {\r\n  const response = await axios.post('/logout', { withCredentials: true })\r\n  return response.data\r\n}\r\n\r\nconst register = async (userInfo) => {\r\n  const response = await axios.post('/register', userInfo)\r\n  return response.data\r\n}\r\n\r\nexport default { login, logout, register }","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { NavLink, withRouter } from 'react-router-dom'\r\nimport { routes, appName } from '../constants'\r\nimport { Menu, Dropdown, Icon, Container } from 'semantic-ui-react'\r\nimport { setUserLoggedIn } from '../reducers/userReducer'\r\nimport loginService from '../services/loginService'\r\n\r\nclass MenuBar extends React.Component {\r\n\r\n  logout = async () => {\r\n    await loginService.logout()\r\n    this.props.setUserLoggedIn(false)\r\n  }\r\n\r\n  render() {\r\n\r\n    const subMenu = () => {\r\n      if (this.props.isUserLoggedIn) {\r\n        return (\r\n          <Dropdown item icon='bars' direction='left'>\r\n            <Dropdown.Menu>\r\n              <Dropdown.Item onClick={ this.logout }>\r\n                Kirjaudu ulos\r\n                <Icon style={{ paddingLeft: '5px' }} name='log out' />\r\n              </Dropdown.Item>\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n        )\r\n      } else {\r\n        return (\r\n          <Menu.Item as={NavLink} exact to={ routes.login }>\r\n            <Icon name='sign in' />\r\n          </Menu.Item>\r\n        )\r\n        /*return (\r\n          <Menu.Item onClick={ this.props.showLoginForm }>\r\n            <Icon name='sign in' />\r\n          </Menu.Item>\r\n        )*/\r\n      }\r\n    }\r\n\r\n    return (\r\n      <Menu attached='top' tabular>\r\n        <Container>\r\n          <Menu.Item>{ appName }</Menu.Item>\r\n          <Menu.Menu position='right'>\r\n            { subMenu() }\r\n          </Menu.Menu>\r\n        </Container>\r\n      </Menu>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isUserLoggedIn: state.user.isUserLoggedIn\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  setUserLoggedIn\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(MenuBar))","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { Button, Modal, Form, TextArea } from 'semantic-ui-react'\r\nimport { addHotspot } from '../reducers/hotspotReducer'\r\nimport { addHotspot as addHotspotToMap } from '../reducers/mapReducer'\r\nimport { appName } from '../constants'\r\n\r\nclass HotspotForm extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      open: props.open\r\n    }\r\n\r\n    document.title = appName + '- Lisää kohde'\r\n  }\r\n\r\n  close = () => {\r\n    this.setState({ open: false })\r\n    this.props.history.push('/')\r\n  }\r\n\r\n  addHotspot = async (event) => {\r\n    event.preventDefault()\r\n\r\n    if (event.target.title.value.length > 0 &&\r\n        event.target.description.value.length > 0) {\r\n\r\n      const hotspotObject = {\r\n        title: event.target.title.value,\r\n        description: event.target.description.value,\r\n        location: {\r\n          type: 'Point',\r\n          coordinates: this.props.coordinates\r\n        }\r\n      }\r\n\r\n      event.target.title.value = ''\r\n      event.target.description.value = ''\r\n\r\n      await this.props.addHotspot(hotspotObject)\r\n\r\n      if (this.props.error) {\r\n        console.log('Error adding hotspot...')\r\n        console.log(this.props.error)\r\n      } else {\r\n        console.log('Added hotspot!')\r\n        console.log(this.props.newHotspot)\r\n        this.props.addHotspotToMap(this.props.newHotspot)\r\n        this.close()\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    console.log('open ' + this.state.open)\r\n    return (\r\n      <div>\r\n        <Modal\r\n          open={this.state.open}\r\n          closeOnDimmerClick={false}\r\n          onClose={this.close}\r\n          closeIcon\r\n        >\r\n          <Modal.Header>Lisää kohde</Modal.Header>\r\n          <Modal.Content>\r\n            <Form onSubmit={ this.addHotspot }>\r\n              <div>\r\n                Kohteen nimi:\r\n                <Form.Input\r\n                  type=\"text\"\r\n                  name=\"title\"\r\n                />\r\n              </div>\r\n              <div>\r\n                Havainto:\r\n                <TextArea\r\n                  name=\"description\"\r\n                  style={{ minHeight: 100 }} />\r\n              </div>\r\n              <Button type=\"submit\">\r\n                Lisää\r\n              </Button>\r\n            </Form>\r\n          </Modal.Content>\r\n        </Modal>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    newHotspot: state.hotspot.newHotspot,\r\n    error: state.hotspot.error\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  addHotspot,\r\n  addHotspotToMap\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(HotspotForm))","import React from 'react'\r\nimport { Button, Icon, Label } from 'semantic-ui-react'\r\n\r\nconst VoteButton = ({ id, vote, votes, color, icon, compact, ...rest }) => (\r\n  <Button as='div' labelPosition='right' { ...rest }>\r\n    <Button\r\n      basic\r\n      color={ color }\r\n      type='button'\r\n      onClick={ () => vote(id) }\r\n      compact={ compact }\r\n    >\r\n      <Icon name={ icon } />\r\n    </Button>\r\n    <Label as='a' basic pointing='left'>\r\n      { votes }\r\n    </Label>\r\n  </Button>\r\n)\r\n\r\nexport default VoteButton\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Icon, Popup } from 'semantic-ui-react'\r\nimport { Link } from 'react-router-dom'\r\nimport { routes } from '../constants'\r\n\r\nclass LoginPromptPopup extends React.Component {\r\n\r\n  render() {\r\n    if (this.props.isUserLoggedIn) {\r\n      return this.props.trigger\r\n    } else {\r\n      return (\r\n        <Popup\r\n          trigger={ this.props.trigger }\r\n          content={\r\n            <Link to={ routes.login }>Kirjaudu sisään? <Icon name='sign in' /></Link>\r\n          }\r\n          on='click'\r\n          hoverable\r\n          position='top right'\r\n        />\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isUserLoggedIn: state.user.isUserLoggedIn\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(LoginPromptPopup)\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Segment, Button, Icon, Divider, Header, Dropdown } from 'semantic-ui-react'\r\nimport { dateFormat } from '../constants'\r\nimport { upVoteComment, downVoteComment } from '../reducers/hotspotReducer'\r\nimport VoteButton from './VoteButton'\r\nimport LoginPromptPopup from './LoginPromptPopup'\r\n\r\nclass Comments extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.sortOrder = () => {}\r\n    this.state = {\r\n      selectedSort: 'vanhin'\r\n    }\r\n  }\r\n\r\n  sortComments = (event, data) => {\r\n    event.preventDefault()\r\n    this.setState({ selectedSort: data.value })\r\n    this.sortOrder = data.value === 'vanhin'\r\n    ? (a, b) => {\r\n        if (new Date(a.createdAt).getTime() > new Date(b.createdAt).getTime()) {\r\n          return 1\r\n        } else {\r\n          return -1\r\n        }\r\n      }\r\n    : (a, b) => {\r\n        if (new Date(a.createdAt).getTime() < new Date(b.createdAt).getTime()) {\r\n          return 1\r\n        }\r\n        else {\r\n          return -1\r\n        }\r\n      }\r\n      console.log(this.sortOrder)\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div>\r\n        <div style={{ paddingBottom: '20px' }}>\r\n        <Header as='h3' floated='left'>Kommentit</Header>\r\n        <Dropdown basic selection\r\n          options={[\r\n            {\r\n              text: 'Vanhimmat ensin',\r\n              value: 'vanhin'\r\n            },\r\n            {\r\n              text: 'Uusimmat ensin',\r\n              value: 'uusin'\r\n            }\r\n          ]}\r\n          defaultValue='vanhin'\r\n          onChange={ this.sortComments }\r\n          compact\r\n          style={{ float: 'right', marginTop: '-5px' }}\r\n        />\r\n        </div>\r\n        <Divider hidden />\r\n        { [].concat(this.props.comments).sort(this.sortOrder).map(comment =>\r\n          <div key={ comment.id }>\r\n            <Segment>\r\n              { new Date(comment.createdAt).toLocaleDateString('fi-FI', dateFormat) } lisännyt { comment.addedBy.displayname }\r\n              <Divider hidden />\r\n              <p>{ comment.content }</p>\r\n              <Divider hidden />\r\n              <LoginPromptPopup trigger = {\r\n                <VoteButton\r\n                  id={ comment.id }\r\n                  vote={ this.props.upVoteComment }\r\n                  votes={ comment.upVotes }\r\n                  color='green'\r\n                  icon='thumbs up'\r\n                  compact={ true }\r\n                />\r\n              } />\r\n              <LoginPromptPopup trigger = {\r\n                <VoteButton\r\n                  id={ comment.id }\r\n                  vote={ this.props.downVoteComment }\r\n                  votes={ comment.downVotes }\r\n                  color='orange'\r\n                  icon='thumbs down'\r\n                  compact={ true }\r\n                />\r\n              } />\r\n              <Button compact basic color='red'>\r\n                  <Icon name='flag' />\r\n              </Button>\r\n            </Segment>\r\n            <Divider hidden />\r\n          </div>\r\n        ) }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  upVoteComment,\r\n  downVoteComment\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Comments)","import React from 'react'\r\nimport { Segment, Button, Divider } from 'semantic-ui-react'\r\n\r\nclass Togglable extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      visible: false\r\n    }\r\n  }\r\n\r\n  toggleVisibility = () => {\r\n    this.setState({ visible: !this.state.visible })\r\n  }\r\n\r\n  render() {\r\n    const hideWhenVisible = { display: this.state.visible ? 'none' : '' }\r\n    const showWhenVisible = { display: this.state.visible ? '' : 'none' }\r\n\r\n    return (\r\n      <Segment>\r\n        <div style={hideWhenVisible}>\r\n          <Button onClick={this.toggleVisibility}>{this.props.buttonLabel}</Button>\r\n        </div>\r\n        <div style={showWhenVisible}>\r\n          <Button basic onClick={this.toggleVisibility}>Peruuta</Button>\r\n          <Divider hidden />\r\n          {this.props.children}\r\n        </div>\r\n      </Segment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Togglable","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Button, Form, TextArea } from 'semantic-ui-react'\r\nimport { addComment } from '../reducers/hotspotReducer'\r\n\r\nclass CommentForm extends Component {\r\n\r\n  addComment = async (event) => {\r\n    event.preventDefault()\r\n\r\n    if (event.target.comment.value.length > 0) {\r\n\r\n      const commentObject = {\r\n        content: event.target.comment.value,\r\n        inHotspot: this.props.hotspotId\r\n      }\r\n\r\n      event.target.comment.value = ''\r\n\r\n      await this.props.addComment(commentObject)\r\n\r\n      if (this.props.error) {\r\n        console.log('Error adding comment...')\r\n        console.log(this.props.error)\r\n      } else {\r\n        console.log('Added hotspot!')\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Form onSubmit={ this.addComment }>\r\n      <div>\r\n        <TextArea\r\n          name=\"comment\"\r\n          style={{ minHeight: 100 }} />\r\n      </div>\r\n      <Button type=\"submit\">\r\n        Lisää\r\n      </Button>\r\n    </Form>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    error: state.hotspot.error\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  addComment\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CommentForm)","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { Button, Modal, Icon, Divider, Popup } from 'semantic-ui-react'\r\nimport { upVoteHotspot, downVoteHotspot } from '../reducers/hotspotReducer'\r\nimport Comments from './Comments'\r\nimport Togglable from './Togglable'\r\nimport CommentForm from './CommentForm'\r\nimport VoteButton from './VoteButton'\r\nimport LoginPromptPopup from './LoginPromptPopup'\r\nimport { appName } from '../constants'\r\n\r\nclass Hotspot extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      open: props.open\r\n    }\r\n\r\n    if (props.hotspot) {\r\n      document.title = appName + '- ' + props.hotspot.title\r\n    }\r\n  }\r\n\r\n  close = () => {\r\n    this.setState({ open: false })\r\n    this.props.history.push('/')\r\n  }\r\n\r\n  render() {\r\n\r\n    if (this.props.hotspot) {\r\n      const hs = this.props.hotspot\r\n\r\n      const showCommentButton = () => {\r\n        if (this.props.isUserLoggedIn) {\r\n          return (\r\n            <Togglable buttonLabel=\"Kommentoi\">\r\n              <CommentForm hotspotId={ hs.id } />\r\n            </Togglable>\r\n          )\r\n        } else {\r\n          return null\r\n        }\r\n      }\r\n\r\n      return (\r\n        <div>\r\n          <Modal\r\n            open={ this.state.open }\r\n            closeOnDimmerClick={ false }\r\n            onClose={ this.close }\r\n            closeIcon\r\n          >\r\n            <Modal.Header>{ hs.title }</Modal.Header>\r\n            <Modal.Content>\r\n              <LoginPromptPopup trigger={\r\n                <VoteButton\r\n                  id={ hs.id }\r\n                  vote={ this.props.upVoteHotspot }\r\n                  votes={ hs.upVotes }\r\n                  color='green'\r\n                  icon='thumbs up'\r\n                />\r\n              } />\r\n              <LoginPromptPopup trigger={\r\n                <VoteButton\r\n                  id={ hs.id }\r\n                  vote={ this.props.downVoteHotspot }\r\n                  votes={ hs.downVotes }\r\n                  color='orange'\r\n                  icon='thumbs down'\r\n                />\r\n               } />\r\n              <Button basic color='red'>\r\n                    <Icon name='flag' />\r\n              </Button>\r\n              <span style={ { paddingLeft: '5px' } }>lisännyt { hs.addedBy.name }</span>\r\n              <Divider hidden />\r\n              { hs.description }\r\n              <Divider hidden />\r\n              { showCommentButton() }\r\n              <Comments comments={ hs.comments } />\r\n            </Modal.Content>\r\n          </Modal>\r\n        </div>\r\n      )\r\n    } else {\r\n      return (\r\n        <div>\r\n          <Modal\r\n            open={this.state.open}\r\n            closeOnDimmerClick={false}\r\n            onClose={this.close}\r\n            closeIcon\r\n          >\r\n            <Modal.Header>Kohdetta ei löytynyt!</Modal.Header>\r\n            <Modal.Content>\r\n              <p>Jotain meni pieleen.</p>\r\n            </Modal.Content>\r\n          </Modal>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isUserLoggedIn: state.user.isUserLoggedIn\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  upVoteHotspot,\r\n  downVoteHotspot\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Hotspot))","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport { routes, appName } from '../constants'\r\nimport { Button, Modal, Form, Icon } from 'semantic-ui-react'\r\nimport { setUserLoggedIn } from '../reducers/userReducer'\r\nimport loginService from '../services/loginService'\r\n\r\nclass LoginForm extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      open: props.open\r\n    }\r\n    document.title = appName + '- Kirjaudu'\r\n  }\r\n\r\n  close = () => {\r\n    this.setState({ open: false })\r\n    this.props.history.push('/')\r\n  }\r\n\r\n  login = async (event) => {\r\n    event.preventDefault()\r\n\r\n    if (event.target.username.value.length > 0 &&\r\n        event.target.password.value.length > 0) {\r\n      try {\r\n        await loginService.login({\r\n          username: event.target.username.value,\r\n          password: event.target.password.value\r\n        })\r\n        this.props.setUserLoggedIn(true)\r\n        this.close()\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div>\r\n        <Modal\r\n          open={this.state.open}\r\n          closeOnDimmerClick={false}\r\n          onClose={this.close}\r\n          closeIcon\r\n        >\r\n          <Modal.Header>Tervetuloa!</Modal.Header>\r\n          <Modal.Content>\r\n            <Form onSubmit={ this.login }>\r\n              <div>\r\n                Käyttäjätunnus:\r\n                <Form.Input\r\n                  type=\"text\"\r\n                  name=\"username\"\r\n                />\r\n              </div>\r\n              <div>\r\n                Salasana:\r\n                <Form.Input\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                />\r\n              </div>\r\n              <Button type=\"submit\" icon labelPosition='right'>\r\n                Kirjaudu sisään\r\n                <Icon name='sign in' />\r\n              </Button>\r\n              <span style={ { paddingLeft: '5px' } }>\r\n                <Link to={{\r\n                    pathname: routes.register,\r\n                    state: { open: true }\r\n                  }}\r\n                >Rekisteröidy?</Link>\r\n              </span>\r\n            </Form>\r\n          </Modal.Content>\r\n        </Modal>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  setUserLoggedIn\r\n}\r\n\r\nexport default withRouter(connect(null, mapDispatchToProps)(LoginForm))","import React, { Component } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { routes, appName } from '../constants'\r\nimport { Button, Modal, Form, Segment } from 'semantic-ui-react'\r\nimport loginService from '../services/loginService'\r\n\r\nclass RegisterForm extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      open: props.open,\r\n      username: '',\r\n      password: '',\r\n      passwordConf: '',\r\n      displayname: '',\r\n      email: '',\r\n      usernameError: false,\r\n      passwordError: false,\r\n      displaynameError: false,\r\n      emailError: false,\r\n      errorMessages: []\r\n    }\r\n\r\n    document.title = appName + '- Rekisteröidy'\r\n  }\r\n\r\n  close = () => {\r\n    this.setState({\r\n      open: false,\r\n      username: '',\r\n      password: '',\r\n      passwordConf: '',\r\n      displayname: '',\r\n      email: '',\r\n      usernameError: false,\r\n      passwordError: false,\r\n      displaynameError: false,\r\n      emailError: false,\r\n      errorMessages: []\r\n    })\r\n    this.props.history.push(routes.login)\r\n  }\r\n\r\n  register = async (event) => {\r\n    event.preventDefault()\r\n\r\n    this.setState({\r\n      usernameError: false,\r\n      passwordError: false,\r\n      displaynameError: false,\r\n      emailError: false\r\n    })\r\n\r\n    if (this.state.username.length < 6) {\r\n      await this.setState({\r\n        usernameError: true,\r\n        errorMessages: this.state.errorMessages.concat('Käyttäjätunnuksen täytyy olla vähintään 6 merkkiä pitkä.')\r\n      })\r\n    }\r\n    if (this.state.password.length < 8 ||\r\n        this.state.password !== this.state.passwordConf) {\r\n      await this.setState({\r\n        passwordError: true,\r\n        errorMessages: this.state.errorMessages.concat('Salasanan täytyy olla vähintään 8 merkkiä pitkä.')\r\n      })\r\n    }\r\n    if (this.state.displayname.length < 6) {\r\n      await this.setState({\r\n        displaynameError: true,\r\n        errorMessages: this.state.errorMessages.concat('Käyttäjänimen täytyy olla vähintään 6 merkkiä pitkä.')\r\n      })\r\n    }\r\n    if (this.state.email.length < 6) {\r\n      await this.setState({\r\n        emailError: true,\r\n        errorMessages: this.state.errorMessages.concat('Anna toimiva sähköpostiosoite.')\r\n      })\r\n    }\r\n\r\n    if (this.state.usernameError ||\r\n        this.state.passwordError ||\r\n        this.state.displaynameError ||\r\n        this.state.emailError) {\r\n\r\n      return\r\n\r\n    } else {\r\n      const userObject = {\r\n        username: this.state.username,\r\n        password: this.state.password,\r\n        displayname: this.state.displayname,\r\n        email: this.state.email\r\n      }\r\n\r\n      try {\r\n        await loginService.register(userObject)\r\n        this.close()\r\n\r\n      } catch (error) {\r\n        console.log('Virhe rekisteröinnissä...')\r\n        console.log(error)\r\n        if (error.response.status === 409) {\r\n          if (error.response.data.message === 'username or email address already in use ') {\r\n            this.setState({\r\n              errorMessages: ['Annettua sähköpostiosoitetta on jo käytetty rekisteröitymiseen.']\r\n            })\r\n          } else {\r\n            this.setState({\r\n              errorMessages: ['Käyttäjätunnusta ei voitu rekisteröidä. Tarkista tiedot.']\r\n            })\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    this.setState({ [event.target.name]: event.target.value })\r\n  }\r\n\r\n  render() {\r\n    const showWhenError = { display: this.state.errorMessages.length > 0 ? '' : 'none' }\r\n\r\n    console.log('open ' + this.state.open)\r\n    return (\r\n      <div>\r\n        <Modal\r\n          open={this.state.open}\r\n          closeOnDimmerClick={false}\r\n          onClose={this.close}\r\n          closeIcon\r\n        >\r\n          <Modal.Header>Rekisteröidy käyttäjäksi</Modal.Header>\r\n          <Modal.Content>\r\n            <Segment style={ showWhenError } color='red' inverted secondary>\r\n              Huomioithan seuraavat:\r\n              <ul>\r\n                { this.state.errorMessages.map(error => {\r\n                  return (<li key={error}>{error}</li>)\r\n                })\r\n                }\r\n              </ul>\r\n            </Segment>\r\n            <Form onSubmit={ this.register }>\r\n              <Form.Field>\r\n                Käyttäjätunnus:\r\n                <Form.Input\r\n                  type=\"text\"\r\n                  name=\"username\"\r\n                  error={ this.state.usernameError }\r\n                  onChange={ this.handleChange }\r\n                  attached='top'\r\n                />                \r\n              </Form.Field>\r\n              <div>\r\n                Salasana:\r\n                <Form.Input\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  error={ this.state.passwordError }\r\n                  onChange={ this.handleChange }\r\n                />\r\n              </div>\r\n              <div>\r\n                Salasana uudelleen:\r\n                <Form.Input\r\n                  type=\"password\"\r\n                  name=\"passwordConf\"\r\n                  error={ this.state.passwordError }\r\n                  onChange={ this.handleChange }\r\n                />\r\n              </div>\r\n              <div>\r\n                Nimimerkki:\r\n                <Form.Input\r\n                  type=\"text\"\r\n                  name=\"displayname\"\r\n                  error={ this.state.displaynameError }\r\n                  onChange={ this.handleChange }\r\n                />\r\n              </div>\r\n              <div>\r\n                Sähköpostiosoite:\r\n                <Form.Input\r\n                  type=\"text\"\r\n                  name=\"email\"\r\n                  error={ this.state.emailError }\r\n                  onChange={ this.handleChange }\r\n                />\r\n              </div>\r\n              <Button type=\"submit\">\r\n                Rekisteröidy\r\n              </Button>\r\n            </Form>\r\n          </Modal.Content>\r\n        </Modal>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(RegisterForm)","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { Route, withRouter } from 'react-router-dom'\r\nimport Map from './components/Map'\r\nimport MenuBar from './components/MenuBar'\r\nimport HotspotForm from './components/HotspotForm'\r\nimport Hotspot from './components/Hotspot'\r\nimport LoginForm from './components/LoginForm'\r\nimport RegisterForm from './components/RegisterForm'\r\nimport { initialiseHotspots } from './reducers/hotspotReducer'\r\nimport { setHotspotsOnMap } from './reducers/mapReducer'\r\nimport { routes, appName } from './constants'\r\nimport { checkUserSession } from './reducers/userReducer'\r\n\r\n\r\n\r\nclass App extends React.Component {\r\n\r\n  async componentDidMount() {\r\n    await this.props.initialiseHotspots()\r\n    if (this.props.hotspots) {\r\n      console.log(this.props.hotspots)\r\n      this.props.setHotspotsOnMap(this.props.hotspots)\r\n    }\r\n    this.props.checkUserSession()\r\n  }\r\n\r\n  render() {\r\n    const hotspotById = (id) => {\r\n      const hotspot = this.props.hotspots.find(hotspot => hotspot.id === id)\r\n      return hotspot\r\n    }\r\n\r\n    document.title = appName\r\n    return (\r\n      <div>\r\n        <div>\r\n          <MenuBar />\r\n        </div>\r\n        <div id='mapPopup' />\r\n        <div id='mapComponent'>\r\n          <Map />\r\n        </div>\r\n        <Route exact\r\n          path={ `${routes.hotspots}/:id` }\r\n          render={ ({ match }) =>\r\n            <Hotspot\r\n              open={ true }\r\n              hotspot={ hotspotById(match.params.id) }\r\n            />\r\n          }\r\n        />\r\n        <Route exact path={ routes.addHotspot } render={ ({ match }) =>\r\n          <HotspotForm\r\n            open={ true }\r\n            coordinates={ this.props.coordinates }\r\n          /> }\r\n        />\r\n        <Route exact path={ routes.login } render={ ({ match }) =>\r\n          <LoginForm open={ true } /> }\r\n        />\r\n        <Route exact path={ routes.register } render={ ({ match }) =>\r\n          <RegisterForm open={ true } /> }\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    hotspots: state.hotspot.hotspots,\r\n    coordinates: state.hotspot.newCoordinates\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  initialiseHotspots,\r\n  setHotspotsOnMap,\r\n  checkUserSession\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(App))\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport mapReducer from './reducers/mapReducer'\r\nimport userReducer from './reducers/userReducer'\r\nimport hotspotReducer from './reducers/hotspotReducer'\r\n//import userReducer from './reducers/userReducer'\r\n\r\nconst reducer = combineReducers({\r\n  map: mapReducer,\r\n  user: userReducer,\r\n  hotspot: hotspotReducer\r\n})\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  composeWithDevTools(\r\n    applyMiddleware(thunk)\r\n  )\r\n)\r\n\r\nexport default store","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport store from './store'\nimport { Provider } from 'react-redux'\nimport { BrowserRouter as Router } from 'react-router-dom'\n\nconst render = () => {\n  ReactDOM.render(\n    <Provider store={store}>\n      <Router>\n        <App />\n      </Router>\n    </Provider>,\n    document.getElementById('root')\n  )\n}\n\nrender()\nstore.subscribe(render)"],"sourceRoot":""}